{"version":3,"sources":["webpack://vue-file-agent/webpack/universalModuleDefinition","webpack://vue-file-agent/webpack/bootstrap","webpack://vue-file-agent/./src/components/vue-file-agent.vue?b54a","webpack://vue-file-agent/./node_modules/@soda/get-current-script/index.js","webpack://vue-file-agent/external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue-file-agent/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-file-agent/./src/components/vue-file-icon.vue?8895","webpack://vue-file-agent/./node_modules/tslib/tslib.es6.js","webpack://vue-file-agent/./src/lib/extensions.ts","webpack://vue-file-agent/./src/lib/icons.ts","webpack://vue-file-agent/./src/components/vue-file-icon.vue?22fe","webpack://vue-file-agent/./src/components/vue-file-icon.vue?89a6","webpack://vue-file-agent/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://vue-file-agent/./src/components/vue-file-icon.vue","webpack://vue-file-agent/./src/lib/utils.ts","webpack://vue-file-agent/./src/components/vue-file-preview.vue?7bb2","webpack://vue-file-agent/./src/lib/drop-handler.ts","webpack://vue-file-agent/./src/lib/file-record.ts","webpack://vue-file-agent/./src/components/vue-file-preview-mixin.ts","webpack://vue-file-agent/./src/components/vue-file-preview.vue?2ead","webpack://vue-file-agent/./src/components/vue-file-preview.vue?3c6d","webpack://vue-file-agent/./src/components/vue-file-preview.vue","webpack://vue-file-agent/./src/components/vue-file-list.vue?de56","webpack://vue-file-agent/./src/components/vue-file-list.vue?5199","webpack://vue-file-agent/./src/components/vue-file-list.vue?3d3a","webpack://vue-file-agent/./src/components/vue-file-list.vue","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?2f3a","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?cc4e","webpack://vue-file-agent/./src/components/vue-file-list-item.vue?942a","webpack://vue-file-agent/./src/components/vue-file-list-item.vue","webpack://vue-file-agent/./src/components/vue-file-agent.vue?4712","webpack://vue-file-agent/./src/lib/ajax-request.ts","webpack://vue-file-agent/./src/lib/upload-helper.ts","webpack://vue-file-agent/./src/lib/plugins.ts","webpack://vue-file-agent/./src/components/vue-file-agent-mixin.ts","webpack://vue-file-agent/./src/components/vue-file-agent.vue?36b6","webpack://vue-file-agent/./src/components/vue-file-agent.vue?6da7","webpack://vue-file-agent/./src/components/vue-file-agent.vue","webpack://vue-file-agent/./src/index.ts","webpack://vue-file-agent/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__8bbf__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getCurrentScript","document","currentScript","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","location","href","replace","hash","scripts","getElementsByTagName","documentElement","outerHTML","RegExp","trim","length","readyState","src","innerHTML","window","match","render","_vm","_h","$createElement","_c","_self","attrs","viewBoxComputed","_l","icon","index","_e","staticRenderFns","__values","iterator","next","done","TypeError","__read","e","ar","push","error","__spread","arguments","concat","paths","color","viewBox","category","playIconPaths","icons","SvgIcon","undefined","extensionsMap","cat","extensions","getIconByName","svgIcon","other","getIconFromExt","ext","toLowerCase","extend","props","computed","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","ImageOrientation","component","class","fileRecord","isImage","isPlayingAv","deletable","downloadable","editable","isEditInputFocused","isPlayableAudio","isPlayableVideo","ref","staticClass","on","$event","playAv","isDarkColor","style","dismissError","_v","_s","getErrorMessage","errorText","staticStyle","url","size","viewFileRecord","removeFileRecord","filenameClearPressed","editFileName","disabled","domProps","editInputFocused","editInputBlured","filenameChanged","type","indexOf","_k","keyCode","dimensions","width","height","hasProgress","progress","getFilesFromDroppedItems","dataTransfer","Promise","resolve","includesFolder","files","folderReadQueue","items","item","kind","fileSystemEntries","getEntries","file","getAsFile","all","then","filesInFolders","entry","getAsEntry","webkitGetAsEntry","isFile","isDirectory","createReader","readEntries","entries","iterateEntry","entryFiles","transfer","arrayMove","arr","previousIndex","newIndex","array","slice","k","splice","getAverageColor","bytesPerPixel","arrLength","step","len","preparedStep","redTotal","greenTotal","blueTotal","alphaTotal","count","alpha","red","green","blue","Math","round","createVideoThumbnail","video","canvas","thumbnailSize","calculateAverageColor","withCredentials","setAttribute","reject","loadedmetadata","loadeddata","tryGetThumbnail","getContext","drawImage","imageData","getImageData","data","toDataURL","videoWidth","videoHeight","addEventListener","currentTime","getDataURL","reader","FileReader","onload","event","target","result","readAsDataURL","getImageOrientationFromArrayBuffer","buffer","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","tags","getImageOrientation","readAsArrayBuffer","rotateCanvas","srcOrientation","ctx","transform","getImageResized","image","widthLimit","heightLimit","orientation","floor","createElement","avgColor","rgba","resizeImageUrl","resized","onerror","resizeImageFile","createObjectURL","URL","webkitURL","revokeObjectURL","shouldRevoke","orientationPromise","File","dataUrl","resizeImage","Image","getSizeFormatted","bytes","sizes","log","parseInt","pow","getSizeParsed","toUpperCase","matches","parseFloat","getColorForText","text","getHashCode","charCodeAt","intToHSL","validateType","accept","acceptedFiles","split","mimeType","baseMimeType","validType","charAt","test","validateSize","maxSize","urlValue","urlResized","oldFileName","oldCustomName","upload","lastKnownSrc","raw","createDummyFile","progressInternal","isNaN","read","id","random","Date","getTime","videoThumbnail","imageColor","customName","averageColor","validate","getFromRaw","rawFileRecord","isSync","FileRecord","promise","setUrl","fromRaw","fromRawSync","fromRawArray","rawFileRecords","promises","toRawArray","fileRecords","toRaw","readFile","utils","readFiles","lastModified","setTime","lastModifiedDate","pop","withoutExt","substr","rgb","darkPoint","isVideo","isAudio","isText","imageResized","catch","common","sizeText","validSize","components","VueFileIcon","isEditCancelable","hasLinkableUrl","linkable","methods","updateFileRecord","createThumbnail","poster","thumbnail","stopAv","wrapper","$refs","player","HTMLVideoElement","controls","appendChild","play","removeChild","console","originalFile","newFile","Blob","$emit","clearFilename","input","focus","oldValue","newValue","timeout","setTimeout","$nextTick","completed","blur","created","watch","mixins","_t","isSortable","sortable","isSorting","isSortingActive","isDragging","readonly","hasMultiple","canAddMore","theme","uniqueId","dragOver","dragEnter","dragLeave","drop","compact","meta","overallProgress","tag","transitionDuration","sortStart","sortEnd","model","callback","$$v","expression","directives","rawName","isDeletable","isDownloadable","readBLOB","helpTextComputed","capture","filesChanged","createError","message","code","request","response","settle","validateStatus","status","method","formData","configureFn","XMLHttpRequest","loadEvent","open","responseURL","responseHeaders","getAllResponseHeaders","responseData","responseText","contentType","getResponseHeader","JSON","parse","statusText","headers","onabort","ontimeout","send","post","delete","put","AjaxRequest","addHeaders","xhr","setRequestHeader","doUpload","progressCallback","doDeleteUpload","uploadData","stringify","doUpdateUpload","prepareUploadError","errorMsg","createFormData","progressFn","updateOverallProgress","prgTotal","failedUploadsCount","FormData","append","progressEvent","percentCompleted","loaded","total","xhrQueue","responses","deleteUpload","abort","updateUpload","old_filename","filename","doTusUpload","tus","tusOptionsFn","uploadWithCredentials","tusOptions","Upload","endpoint","retryDelays","metadata","filetype","onError","onProgress","bytesUploaded","bytesTotal","onSuccess","onBeforeRequest","req","getUnderlyingObject","tusUpload","start","tusDeleteUpload","shouldTerminate","res","rej","dragCounter","VueFilePreview","VueFileList","VueFileListItem","vfaSortableHandle","el","sortableHandle","sortTimeout","maxFiles","helpText","multiple","Array","isArray","shouldRead","initVideo","load","getFileRecordOrRawInstance","fileRecordOrRaw","getFileRecordRawInstance","getFileRecordInstance","prepareConfigureFn","configureXhr","fileRecordsOrRaw","validFileRecords","validFilesRawData","resumable","plugins","autoUpload","uploadUrl","auto","uploadHeaders","uploadConfig","autoDeleteUpload","autoUpdateUpload","equalFiles","file1","file2","isFileAddedAlready","handleFiles","filesFiltered","fileRecordsNew","allFileRecordsRaw","fileInput","stopPropagation","preventDefault","dropEffect","alert","deleteFileRecord","checkValue","fdPromises","rawFileRecordsNew","existingIndex","clearTimeout","sortData","oldIndex","toString","VueFileAgent","mixin","VueFileAgentMixin","VueFilePreviewMixin","install","Vue","$vueFileAgent","vfaPlugin","FileData"],"mappings":"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","file":"vue-file-agent.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-file-agent\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue-file-agent\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=style&index=0&lang=scss&\"","// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    if (document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"viewBox\":_vm.viewBoxComputed}},[_vm._l((_vm.icon.paths),function(d,index){return [(d)?_c('path',{key:index,attrs:{\"d\":d}}):_vm._e()]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export default {\r\n  'audio': [\r\n    'aif',\r\n    'cda',\r\n    'mid',\r\n    'midi',\r\n    // 'mp3',\r\n    'mpa',\r\n    // 'ogg',\r\n    // 'wav',\r\n    'wma',\r\n    'wpl',\r\n  ],\r\n  'audio-playable': ['mp3', 'ogg', 'wav'],\r\n  'archive': ['7z', 'arj', 'deb', 'pkg', 'rar', 'rpm', 'tar.gz', 'z', 'zip'],\r\n  'disc': [\r\n    // 'bin',\r\n    'dmg',\r\n    'iso',\r\n    'toast',\r\n    'vcd',\r\n  ],\r\n  'database': [\r\n    'csv',\r\n    'dat',\r\n    'db',\r\n    'dbf',\r\n    'log',\r\n    'mdb',\r\n    'sav',\r\n    'sql',\r\n    'tar',\r\n    // 'xml'\r\n  ],\r\n  'executable': ['apk', 'bat', 'bin', 'cgi', 'pl', 'com', 'exe', 'gadget', 'jar', 'py', 'wsf', 'ipa'],\r\n  'font': ['fnt', 'fon', 'otf', 'ttf'],\r\n  'image': ['ai', 'bmp', 'gif', 'ico', 'jpeg', 'jpg', 'png', 'ps', 'psd', 'svg', 'tif', 'tiff'],\r\n  'markup': [\r\n    'asp',\r\n    'aspx',\r\n    'cer',\r\n    'cfm',\r\n    'cgi',\r\n    'pl',\r\n    'css',\r\n    'scss',\r\n    'htm',\r\n    'html',\r\n    'jsp',\r\n    // 'vue',\r\n    'part',\r\n    'php',\r\n    'py',\r\n    'rss',\r\n    'xml',\r\n    'xhtml',\r\n  ],\r\n  'presentation': ['key', 'odp', 'pps', 'ppt', 'pptx'],\r\n  'script': ['c', 'class', 'cpp', 'cs', 'h', 'java', 'js', 'json', 'sh', 'swift', 'vb'],\r\n  'sheet': ['ods', 'xlr', 'xls', 'xlsx'],\r\n  'system': [\r\n    'bak',\r\n    'cab',\r\n    'cfg',\r\n    'cpl',\r\n    'cur',\r\n    'dll',\r\n    'dmp',\r\n    'drv',\r\n    'icns',\r\n    // 'ico',\r\n    'ini',\r\n    'lnk',\r\n    'msi',\r\n    'sys',\r\n    'tmp',\r\n  ],\r\n  'video': [\r\n    '3g2',\r\n    '3gp',\r\n    'avi',\r\n    'flv',\r\n    'h264',\r\n    // 'm4v',\r\n    'mkv',\r\n    // 'mov',\r\n    // 'mp4',\r\n    'mpg',\r\n    'mpeg',\r\n    'rm',\r\n    'swf',\r\n    'vob',\r\n    // 'webm',\r\n    'wmv',\r\n  ],\r\n  'video-playable': ['mp4', 'webm', 'mov'],\r\n  'vue': ['vue'],\r\n  'doc': [\r\n    'doc',\r\n    'docx',\r\n    'odt',\r\n    'rtf',\r\n    'tex',\r\n    // 'txt',\r\n    'wks',\r\n    'wps',\r\n    'wpd',\r\n  ],\r\n  'text': ['txt'],\r\n  'ebook': ['epub'],\r\n  'pdf': ['pdf'],\r\n  'folder': ['folder'],\r\n  'play': ['play'],\r\n};\r\n","import extensions from '../lib/extensions';\r\n\r\nexport class SvgIcon {\r\n  public category: string = '';\r\n  constructor(public paths: string[], public color?: string, public viewBox?: string) {}\r\n}\r\n\r\nconst playIconPaths = ['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'];\r\n\r\nconst icons = {\r\n  'folder': new SvgIcon(\r\n    [\r\n      'M96.5 93.7h-93c-2 0-3.5-1.5-3.5-3.5V35.4h100v54.8c0 2-1.5 3.5-3.5 3.5z',\r\n      'M44.9 20V9.7c0-2-1.5-3.5-3.5-3.5h-38C1.5 6.3 0 7.8 0 9.7v25.7h100V23.5c0-2-1.5-3.5-3.5-3.5H44.9z',\r\n    ],\r\n    '#efce4a'\r\n  ),\r\n  'audio': new SvgIcon(\r\n    [\r\n      'M32.5 37.5h-9v25h9L53.6 77V23L32.5 37.5M71.9 50c0 6.8-3.7 12.7-9.1 15.8l2.8 4.9c7.1-4.1 11.9-11.8 11.9-20.7 0-8.8-4.8-16.6-11.9-20.7l-2.8 4.9c5.4 3.1 9.1 9 9.1 15.8z',\r\n      // tslint:disable-next-line\r\n      'M62.1 50c0 3.2-1.7 5.9-4.3 7.4l2.7 4.7c4.2-2.4 7-6.9 7-12.1 0-5.2-2.8-9.7-7-12.1l-2.7 4.7c2.6 1.5 4.3 4.2 4.3 7.4z',\r\n    ],\r\n    '#039'\r\n  ),\r\n  'video': new SvgIcon(\r\n    [\r\n      'M21 26.4v47.1h58V26.4H21zm10.9 43.5h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2zm10.9 25.4V37.3L60.9 50 42.8 62.7zm32.6 7.2h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2z',\r\n    ],\r\n    '#ef6f2e'\r\n  ),\r\n  'audio-playable': new SvgIcon(playIconPaths, '#039', '0 0 48 48'),\r\n  'video-playable': new SvgIcon(playIconPaths, '#ef6f2e', '0 0 48 48'),\r\n  'archive': new SvgIcon(\r\n    [\r\n      'M72.4 38.5h-7.9v-7.9l7.9 7.9zm-21.3-7.9v28.8h21.4v-19h-9.9v-9.9H51.1zm3.3-7.6H30.8v5.6h9.3l-5.9 4.5v4.8l8.6-6.6v-2.7h30.1v-2.3L54.4 23zM42.9 35.1l-8.6 6.6v4.8l8.6-6.6v-4.8zm-8.7 20l8.6-6.6v-4.8l-8.6 6.6v4.8zm8.7 2v-4.8l-8.6 6.6v2.6h-3.4v5.6h5.3v3.8H33c-.6-1-1.6-1.6-2.8-1.6-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1.2 0 2.2-.6 2.8-1.6h3.1V77h4.8v-2.9H44c.6 1 1.6 1.6 2.8 1.6 1.8 0 3.2-1.4 3.2-3.2s-1.4-3.2-3.2-3.2c-1.2 0-2.2.6-2.8 1.6h-3.1v-3.8h13.5l18.5-3.3v-2.3H37.1l5.8-4.4z',\r\n    ],\r\n    '#ba8322'\r\n  ),\r\n  'system': new SvgIcon(\r\n    [\r\n      'M73.6 54.8c-2.1-.7-3.4-2.6-3.4-4.8s1.4-4.1 3.4-4.8c.6-.2 1-.9.8-1.5-.6-2.3-1.5-4.4-2.7-6.5-.3-.6-1.1-.8-1.7-.5-.7.4-1.6.6-2.4.6-2.8 0-5-2.3-5-5 0-.8.2-1.7.6-2.4.3-.6.1-1.3-.5-1.7-2-1.2-4.2-2.1-6.5-2.7-.6-.2-1.3.2-1.5.8-.7 2.1-2.6 3.4-4.8 3.4-2.2 0-4.1-1.4-4.8-3.4-.2-.6-.9-1-1.5-.8-2.3.6-4.4 1.5-6.5 2.7-.6.3-.8 1.1-.5 1.7.4.7.6 1.6.6 2.4 0 2.8-2.3 5-5 5-.8 0-1.7-.2-2.4-.6-.6-.3-1.3-.1-1.7.5-1.2 2-2.1 4.2-2.7 6.5-.2.6.2 1.3.8 1.5 2.1.7 3.4 2.6 3.4 4.8s-1.4 4.1-3.4 4.8c-.6.2-1 .9-.8 1.5.6 2.3 1.5 4.4 2.7 6.5.3.6 1.1.8 1.7.5.7-.4 1.6-.6 2.4-.6 2.8 0 5 2.3 5 5 0 .8-.2 1.7-.6 2.4-.3.6-.1 1.3.5 1.7 2 1.2 4.2 2.1 6.5 2.7h.3c.5 0 1-.3 1.2-.9.7-2.1 2.6-3.4 4.8-3.4 2.2 0 4.1 1.4 4.8 3.4.2.6.9 1 1.5.8 2.3-.6 4.4-1.5 6.5-2.7.6-.3.8-1.1.5-1.7-.4-.7-.6-1.6-.6-2.4 0-2.8 2.3-5 5-5 .8 0 1.7.2 2.4.6.6.3 1.3.1 1.7-.5 1.2-2 2.1-4.2 2.7-6.5.2-.5-.1-1.2-.8-1.4zM50 57.6c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6 4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z',\r\n    ],\r\n    '#999'\r\n  ),\r\n  'image': new SvgIcon(\r\n    [\r\n      'm 40.400002,35 a 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 8,8 0 0 1 8,8 z',\r\n      'M78.9 47.3l-9.7-9.6L50 57l-9.6-9.7-19.3 19.3V73h57.8z',\r\n    ],\r\n    '#5b2d8d'\r\n  ),\r\n  'doc': new SvgIcon(\r\n    [\r\n      'M29.6 53l-5.9-18.2c-.2-.7-.4-1-.5-1-.1-.1-.2-.1-.4-.2l-2.1-.6-.1-2.6h11l.2 2.6-2.1.6v.2c0 .2.1.7.4 1.2l2.2 7 3.9-11.7 3-.1 3.6 11.7 2.5-7c.1-.5.4-1 .4-1.2v-.1l-1.8-.5-.1-2.7h8.6l.2 2.6-2.3.7c-.1 0-.2.1-.4.1 0 .1-.2.2-.4.9L43 52.8l-3.1.2-3.3-11.2-3.9 11-3.1.2z',\r\n      'M57.8 30.2h21.7v3.4H57.8zm0 9.2h21.7v3.4H57.8zm0 9.4h21.7v3.4H57.8zm-36.2 9.6h57.9v3.4H21.6zm0 9.4h57.9v3.4H21.6z',\r\n    ],\r\n    '#2372ba'\r\n  ),\r\n  'executable': new SvgIcon(\r\n    ['M33.1 29.8l-6.6 6.6L37.2 47 26.5 57.6l6.6 6.6L50.2 47zm18.8 31.1h22.6v9.2H51.9z'],\r\n    '#333'\r\n  ),\r\n  'ebook': new SvgIcon(\r\n    [\r\n      'M75.8 45.7c-.3-.6-.7-1.2-1.3-1.6-.1.5-.3 1-.6 1.5L58.3 69.8c-.6.9-1.9 1.1-2.9.8l-25-7c-1.5-.4-3.3-1.3-3.4-3 0-.6 0-.9.4-1.1.3-.3.8-.2 1.1-.1L52 66c3.4 1 4.4.2 6.9-3.5l14.4-22.2c.7-1.2.9-2.5.5-3.6s-1.4-2-2.7-2.4l-20.6-5.7c-.5-.1-1-.1-1.5-.1v-.1c-3.2-1.9-4.4 1.7-6 3-.6.5-1.4.8-1.7 1.3-.2.5-.1 1-.3 1.4-.6 1.4-2.4 3.6-3.3 4.3-.6.4-1.2.5-1.6 1.1-.3.4-.2 1.1-.4 1.6-.5 1.2-2.1 3.3-3.2 4.4-.4.4-1 .6-1.3 1.1-.3.4-.2 1.1-.4 1.6-.7 1.3-2.2 3.2-3.4 4.3-.6.6-1.3.9-1.6 1.5-.1.3 0 .7-.2 1.1-.2.6-.5 1.1-.7 1.7-.7.9-1 2.1-.9 3.4.2 3.1 2.5 6 5.3 6.8l25 7c2.3.6 5.2-.5 6.6-2.5l14.4-22.2c.7-1.1.9-2.4.5-3.6zm-28.9-7.9l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1l-1.1 1.6c-.3.4-.9.7-1.4.5l-16.5-4.6c-.5-.2-.7-.6-.4-1zM42.7 44l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1L60.9 49c-.3.4-.9.7-1.4.5L43.1 45c-.5-.1-.7-.6-.4-1z',\r\n    ],\r\n    '#963'\r\n  ),\r\n  'markup': new SvgIcon(\r\n    [\r\n      'M21.5 48.3l16.2-14v7.1l-11 9.2v.1l11 9.2V67L21.5 53v-4.7zm30.6-17.6h4.3L48 71.3h-4.2l8.3-40.6zM62.3 60l11-9.2v-.1l-11-9.2v-7.1l16.2 14v4.9l-16.2 14V60z',\r\n    ] /* no color? */\r\n  ),\r\n  'script': new SvgIcon(\r\n    [\r\n      'M42.3 44.2h15.4V48H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zM69.2 25H38.5c-4.2 0-7.7 3.4-7.7 7.7v34.6h-7.7c0 4.2 3.4 7.7 7.7 7.7h30.8c4.2 0 7.7-3.4 7.7-7.7V36.5H77v-3.8c-.1-4.3-3.5-7.7-7.8-7.7zm-3.8 41.6c0 2.5-2 4.5-4.5 4.5H32.7c1.9-1.3 1.9-3.8 1.9-3.8V32.7c0-2.1 1.7-3.8 3.8-3.8s3.8 1.7 3.8 3.8v3.8h23.1v30.1zM46.2 32.7v-3.8h23.1c3.5 0 3.8 2.2 3.8 3.8H46.2z',\r\n    ] /* no color? */\r\n  ),\r\n  'disc': new SvgIcon(\r\n    [\r\n      'M46.9 50c0 .8.3 1.6.9 2.2 1.2 1.2 3.2 1.2 4.4 0 .6-.6.9-1.4.9-2.2 0-.8-.3-1.6-.9-2.2-.6-.6-1.4-.9-2.2-.9-.8 0-1.6.3-2.2.9-.6.6-.9 1.4-.9 2.2z',\r\n      'M32.3 32.3c-9.8 9.8-9.8 25.6 0 35.4 9.8 9.8 25.6 9.8 35.4 0 9.8-9.8 9.8-25.6 0-35.4-9.8-9.7-25.6-9.7-35.4 0zm37 28.2c-.9 1.7-2.1 3.2-3.5 4.6-1.4 1.4-3 2.6-4.6 3.5l-5.8-11.1s.5-.2 1.6-1.2c1.1-1.1 1.3-1.6 1.3-1.6l11 5.8zM54.4 45.6c1.2 1.2 1.8 2.8 1.8 4.4 0 1.6-.6 3.2-1.8 4.4-2.4 2.4-6.4 2.4-8.8 0-1.2-1.2-1.8-2.8-1.8-4.4 0-1.6.6-3.2 1.8-4.4a6.1 6.1 0 0 1 8.8 0zm-8.5-4.4s-1.2.7-2.2 1.8c-.9 1-1 1.2-1.3 1.7l-11-5.9c.9-1.7 2.1-3.2 3.5-4.6 1.4-1.4 3-2.6 4.6-3.5l6.4 10.5z',\r\n    ],\r\n    '#c96'\r\n  ),\r\n  'text': new SvgIcon(\r\n    ['M69.4 28.6v5.5H21.5v-5.5M30.6 41h47.9v5.6H30.6zm-9.1 12.4h47.9V59H21.5zm9.1 12.5h47.9v5.6H30.6z'],\r\n    '#6b533b'\r\n  ),\r\n  'database': new SvgIcon(\r\n    [\r\n      'M48.1 75.5c-6.5-.3-12.3-2.3-15.4-5.4-.9-.9-1.8-2.1-2.2-2.9l-.3-.5v-6.1c0-6 0-6.1.1-5.6.3 1.3 1.1 2.7 2.3 3.7.8.7 2.5 1.8 3.8 2.5 2.4 1.2 5.2 2 8.4 2.5 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.3-2.5 1.4-.7 3-1.7 3.8-2.5 1.1-1 2-2.5 2.3-3.8.1-.5.1-.4.1 5.5v6l-.3.6c-1 1.9-2.6 3.6-4.7 4.8-4.3 2.7-10.5 4-16.8 3.7z',\r\n      'M48.1 60.4c-5.7-.3-11-1.9-14.3-4.4-.7-.6-1.8-1.6-2.3-2.2-.4-.6-.8-1.2-1.1-1.8l-.3-.5v-6c0-5.9 0-6 .1-5.5.2.9.7 2 1.5 2.9.4.5 1.1 1.2 1.5 1.4.1.1.5.3.7.5 2.7 1.9 6.5 3.3 10.8 3.9 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.4-2.5 1.4-.7 3-1.8 3.9-2.5 1.1-1 2-2.4 2.2-3.7.1-.5.1-.4.1 5.5v5.9l-.4.8c-.7 1.2-1.1 1.8-1.9 2.7-.8.8-1.6 1.5-2.7 2.1-4.3 2.4-10.5 3.7-16.8 3.4z',\r\n      'M47.7 45.4c-3.8-.3-6.8-.9-9.6-2-3.4-1.3-5.8-3.1-7.1-5.2-.3-.4-.5-1-.7-1.6-.2-.6-.3-2-.1-2.7.9-4.3 6.6-7.9 14.5-9 1.9-.3 2.6-.3 5.3-.3s3.4 0 5.3.3c3.1.5 6 1.3 8.4 2.5 3.5 1.7 5.6 4 6.1 6.5.1.7.1 2.1-.1 2.7-.4 1.3-1 2.2-2 3.2-2.8 2.9-7.9 4.9-14.1 5.6-.9-.1-5.1 0-5.9 0z',\r\n    ],\r\n    '#a03537'\r\n  ),\r\n  'pdf': new SvgIcon(\r\n    [\r\n      'M46.2 21.8c-3.5 0-6.3 2.9-6.3 6.3 0 4.3 2.4 9.6 4.9 14.7-2 6.1-4.1 12.7-7 18.2-5.8 2.3-11 4-14 6.6l-.2.2c-1.1 1.2-1.8 2.7-1.8 4.4 0 3.5 2.9 6.3 6.3 6.3 1.7 0 3.4-.6 4.4-1.8 0 0 .2 0 .2-.2 2.3-2.7 5-7.8 7.5-12.2 5.5-2.1 11.5-4.4 16.9-5.8 4.1 3.4 10.1 5.5 15 5.5 3.5 0 6.3-2.9 6.3-6.3 0-3.5-2.9-6.3-6.3-6.3-4 0-9.6 1.4-13.9 2.9-3.5-3.4-6.7-7.5-9.2-11.9C50.6 37 52.6 32 52.6 28c-.2-3.5-2.9-6.2-6.4-6.2zm0 3.6c1.4 0 2.4 1.1 2.4 2.4 0 1.8-1.1 5.3-2.1 9-1.5-3.7-2.9-7.2-2.9-9 .1-1.2 1.2-2.4 2.6-2.4zm1.1 21.5c1.8 3.1 4.1 5.8 6.6 8.2-3.7 1.1-7.3 2.3-11 3.7 1.8-3.8 3.1-7.9 4.4-11.9zM72 55c1.4 0 2.4 1.1 2.4 2.4 0 1.4-1.1 2.4-2.4 2.4-2.9 0-6.9-1.2-10.1-3.1C65.6 56 69.7 55 72 55zM34.6 66.2c-1.8 3.2-3.5 6.1-4.7 7.6-.5.5-.9.6-1.7.6-1.4 0-2.4-1.1-2.4-2.4 0-.6.3-1.4.6-1.7 1.3-1.2 4.5-2.6 8.2-4.1z',\r\n    ],\r\n    '#c11e07'\r\n  ),\r\n  'sheet': new SvgIcon(\r\n    [\r\n      'M62.1 30.9h14.1v9.4H62.1zm0 14.5h14.1v9.4H62.1zm0 14.3h14.1v9.4H62.1zm-19.2 0H57v9.4H42.9zm-19 0H38v9.4H23.9zm19.2-14.2h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9zm19.2-14.6h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9z',\r\n    ],\r\n    '#30723f'\r\n  ),\r\n  'presentation': new SvgIcon(\r\n    [\r\n      'M 73.319289,26.32707 H 26.61477 c -2.335226,0 -4.258353,1.917194 -4.258353,4.245215 v 29.853446 c 0,2.328021 1.923127,4.245215 4.258353,4.245215 h 19.506006 l -1.923128,7.257947 h -2.197859 c -0.961564,0 -1.648395,0.684712 -1.648395,1.643309 0,0.958597 0.686831,1.643309 1.648395,1.643309 h 15.797117 c 0.961563,0 1.648394,-0.684712 1.648394,-1.643309 0,-0.958597 -0.686831,-1.643309 -1.648394,-1.643309 H 55.46168 l -1.923128,-7.39489 h 19.780737 c 2.335226,0 4.258353,-1.917193 4.258353,-4.245214 V 30.572285 c 0,-2.328021 -1.923127,-4.245215 -4.258353,-4.245215 z m 0.412099,34.372546 H 26.202672 V 30.2984 h 47.39135 z',\r\n      'm 38.428266,48.511741 h 3.846255 v 7.668775 h -3.846255 z m 6.456214,-2.464963 h 3.846254 V 56.180516 H 44.88448 Z m 6.318846,-2.601906 h 3.846255 v 12.735644 h -3.846255 z m 6.318847,-2.464964 h 3.846255 v 15.200608 h -3.846255 z m -0.274732,-5.614639 -6.730946,3.697445 -4.945184,-1.643308 -8.379341,4.519099 1.236296,1.369424 7.417777,-3.834387 4.945185,1.643309 7.692509,-4.245215 1.236296,1.369424 2.88469,-4.792984 -6.593578,0.410827 z',\r\n    ],\r\n    '#c24f32'\r\n  ),\r\n  'font': new SvgIcon(\r\n    [\r\n      'M40.4 56.2H28.7l-1.4 3.1c-.5 1-.7 1.9-.7 2.6 0 .9.4 1.6 1.1 2 .4.3 1.5.4 3.2.6v.9H20v-.9c1.2-.2 2.2-.6 2.9-1.4.8-.8 1.7-2.4 2.8-4.8l11.8-25.6h.5l12 26.2c1.1 2.5 2.1 4.1 2.8 4.7.6.5 1.3.8 2.3.9v.9h-16v-.9h.7c1.3 0 2.2-.2 2.7-.5.4-.3.5-.6.5-1.1 0-.3 0-.6-.1-.9 0-.1-.3-.7-.7-1.8l-1.8-4zm-.8-1.8l-4.9-11-5.1 11h10z',\r\n      'M80 44.2l-4.7 15.7-.5 1.9c0 .2-.1.4-.1.5 0 .2.1.4.2.5.1.2.3.2.4.2.3 0 .8-.3 1.4-.8.2-.2.8-.9 1.8-2.2l.9.4c-1.2 2-2.4 3.5-3.7 4.5-1.3.9-2.7 1.4-4.2 1.4-.9 0-1.6-.2-2.1-.7-.5-.5-.7-1-.7-1.8 0-.6.3-1.8.8-3.4l.6-1.9c-1.9 3.1-3.7 5.4-5.4 6.7-1 .8-2.1 1.1-3.2 1.1-1.5 0-2.6-.6-3.2-1.8-.7-1.2-1-2.5-1-4 0-2.2.7-4.8 2.1-7.6 1.4-2.9 3.2-5.2 5.5-6.9 1.9-1.4 3.6-2.2 5.3-2.2.9 0 1.6.3 2.2.8.6.5 1 1.4 1.2 2.8l.9-2.9 5.5-.3zm-7.8 4.5c0-1.3-.2-2.2-.6-2.8-.3-.4-.7-.6-1.2-.6s-1 .2-1.6.7c-1.1 1-2.3 3-3.5 5.9-1.3 3-1.9 5.6-1.9 7.7 0 .8.1 1.4.4 1.8.3.4.6.6.9.6.7 0 1.5-.4 2.2-1.2 1.1-1.2 2-2.6 2.9-4.3 1.6-2.9 2.4-5.5 2.4-7.8z',\r\n    ],\r\n    '#7291a1'\r\n  ),\r\n  'vue': new SvgIcon(\r\n    [\r\n      'M 66.425365,28.281905 H 56.751974 L 49.707631,39.427061 43.669624,28.281905 H 21.530262 L 49.707631,76.54823 77.885006,28.281905 Z m -37.888497,4.025337 h 6.767604 L 49.707631,57.239179 64.098226,32.307242 h 6.767597 L 49.707631,68.560446 Z',\r\n    ],\r\n    '#41B883'\r\n  ),\r\n  'other': new SvgIcon(\r\n    [\r\n      'M71 36.3L57.8 23.1c-.4-.4-.9-.6-1.4-.6h-26c-1.1 0-2 .9-2 2v51.1c0 1.1.9 2 2 2h39.3c1.1 0 2-.9 2-2V37.7c-.1-.5-.3-1-.7-1.4zm-3.9 2.3H55.5V27l11.6 11.6zm.1 34.5H32.8V26.9h18.5v13.3c0 1.4 1.2 2.6 2.6 2.6h13.3v30.3z',\r\n    ] /* no color? */\r\n  ),\r\n  // system icons\r\n  'system-close': new SvgIcon(\r\n    ['M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'],\r\n    undefined,\r\n    '0 0 24 24'\r\n  ),\r\n  'system-file-preview-new': new SvgIcon(\r\n    [\r\n      'M745,353c-5.6,0-11.3,0.2-17.2,0.7C687.4,237.3,577.8,157,451,157c-162.1,0-294,131.9-294,294c0,2.1,0,4.1,0,6.2C72.6,479,10,555.8,10,647c0,108.1,87.9,196,196,196h245V618.3l-63.4,63.4c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4c-19.2-19.2-19.2-50.1,0-69.3l147-147c4.6-4.6,9.9-8.1,16-10.6c12-4.9,25.5-4.9,37.4,0c6,2.5,11.4,6.1,16,10.6l147,147c19.2,19.2,19.2,50.1,0,69.3c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4L549,618.3V843h196c135.1,0,245-109.9,245-245S880.1,353,745,353z',\r\n    ],\r\n    undefined,\r\n    '0 0 1000 1000'\r\n  ),\r\n  // system icons\r\n  'system-sortable-handle': new SvgIcon(['M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z'], undefined, '0 0 24 24'),\r\n  'system-file-av-play': new SvgIcon(\r\n    ['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'],\r\n    undefined,\r\n    '0 0 48 48'\r\n  ),\r\n  // M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z\r\n  'system-file-name-edit': new SvgIcon(\r\n    [\r\n      'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z',\r\n    ],\r\n    undefined,\r\n    '0 0 24 24'\r\n  ),\r\n  'system-view-file': new SvgIcon(\r\n    [\r\n      'M10,6.978c-1.666,0-3.022,1.356-3.022,3.022S8.334,13.022,10,13.022s3.022-1.356,3.022-3.022S11.666,6.978,10,6.978M10,12.267c-1.25,0-2.267-1.017-2.267-2.267c0-1.25,1.016-2.267,2.267-2.267c1.251,0,2.267,1.016,2.267,2.267C12.267,11.25,11.251,12.267,10,12.267 M18.391,9.733l-1.624-1.639C14.966,6.279,12.563,5.278,10,5.278S5.034,6.279,3.234,8.094L1.609,9.733c-0.146,0.147-0.146,0.386,0,0.533l1.625,1.639c1.8,1.815,4.203,2.816,6.766,2.816s4.966-1.001,6.767-2.816l1.624-1.639C18.536,10.119,18.536,9.881,18.391,9.733 M16.229,11.373c-1.656,1.672-3.868,2.594-6.229,2.594s-4.573-0.922-6.23-2.594L2.41,10l1.36-1.374C5.427,6.955,7.639,6.033,10,6.033s4.573,0.922,6.229,2.593L17.59,10L16.229,11.373z',\r\n    ],\r\n    undefined,\r\n    '0 0 20 20'\r\n  ),\r\n};\r\n\r\nfor (const category in icons) {\r\n  if (icons.hasOwnProperty(category)) {\r\n    (icons as any)[category].category = category;\r\n  }\r\n}\r\n\r\nexport default icons;\r\n\r\nexport const extensionsMap: any = {};\r\n\r\nfor (const cat in extensions) {\r\n  if (extensions.hasOwnProperty(cat)) {\r\n    for (const ext of (extensions as any)[cat]) {\r\n      extensionsMap[ext] = cat;\r\n    }\r\n  }\r\n}\r\n\r\nexport function getIconByName(name: string): SvgIcon {\r\n  const svgIcon = (icons as any)[name] || icons.other;\r\n  return svgIcon;\r\n}\r\n\r\nexport function getIconFromExt(ext: string): SvgIcon {\r\n  ext = ext.toLowerCase();\r\n  const cat = extensionsMap[ext];\r\n  return getIconByName(cat);\r\n}\r\n","\n\n\n\n\n\n\n\n\r\nimport { getIconFromExt, getIconByName, SvgIcon } from '../lib/icons';\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  props: ['ext', 'name', 'viewBox'],\r\n  computed: {\r\n    viewBoxComputed(): string {\r\n      if (!this.viewBox && this.icon && this.icon.viewBox) {\r\n        return this.icon.viewBox;\r\n      }\r\n      return this.viewBox ? this.viewBox : '0 0 100 100';\r\n    },\r\n    icon(): SvgIcon {\r\n      if (this.name) {\r\n        return getIconByName(this.name);\r\n      }\r\n      const svgIcon = getIconFromExt(this.ext);\r\n      return svgIcon;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-icon.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-icon.vue?vue&type=script&lang=ts&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./vue-file-icon.vue?vue&type=template&id=61d49b70&\"\nimport script from \"./vue-file-icon.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-icon.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getFilesFromDroppedItems } from './drop-handler';\r\n\r\nexport type RGBA = [number, number, number, number];\r\nexport interface VideoThumbnail {\r\n  url: string;\r\n  color?: RGBA;\r\n  width: number;\r\n  height: number;\r\n}\r\nexport interface ImageThumbnail {\r\n  image: HTMLImageElement;\r\n  url: string;\r\n  color?: RGBA;\r\n}\r\n\r\nenum ImageOrientation {\r\n  NORMAL = 1,\r\n  UPSIDE_DOWN = 6,\r\n}\r\n\r\nclass Utils {\r\n  public arrayMove(arr: any[], previousIndex: number, newIndex: number): any[] {\r\n    // https://github.com/Jexordexan/vue-slicksort/blob/master/src/utils.js\r\n    const array = arr.slice(0);\r\n    if (newIndex >= array.length) {\r\n      let k = newIndex - array.length;\r\n      while (k-- + 1) {\r\n        array.push(undefined);\r\n      }\r\n    }\r\n    array.splice(newIndex, 0, array.splice(previousIndex, 1)[0]);\r\n    return array;\r\n  }\r\n\r\n  public getAverageColor(arr: Uint8ClampedArray): RGBA | undefined {\r\n    const bytesPerPixel = 4;\r\n    const arrLength = arr.length;\r\n    if (arrLength < bytesPerPixel) {\r\n      return;\r\n    }\r\n    const step = 5;\r\n    const len = arrLength - (arrLength % bytesPerPixel);\r\n    const preparedStep = (step || 1) * bytesPerPixel;\r\n\r\n    let redTotal = 0;\r\n    let greenTotal = 0;\r\n    let blueTotal = 0;\r\n    let alphaTotal = 0;\r\n    let count = 0;\r\n\r\n    for (let i = 0; i < len; i += preparedStep) {\r\n      const alpha = arr[i + 3];\r\n      const red = arr[i] * alpha;\r\n      const green = arr[i + 1] * alpha;\r\n      const blue = arr[i + 2] * alpha;\r\n\r\n      redTotal += red;\r\n      greenTotal += green;\r\n      blueTotal += blue;\r\n      alphaTotal += alpha;\r\n      count++;\r\n    }\r\n\r\n    return alphaTotal\r\n      ? [\r\n          Math.round(redTotal / alphaTotal),\r\n          Math.round(greenTotal / alphaTotal),\r\n          Math.round(blueTotal / alphaTotal),\r\n          Math.round(alphaTotal / count),\r\n        ]\r\n      : [0, 0, 0, 0];\r\n  }\r\n\r\n  public createVideoThumbnail(\r\n    video: HTMLVideoElement,\r\n    canvas: HTMLCanvasElement,\r\n    thumbnailSize: number,\r\n    calculateAverageColor?: boolean,\r\n    withCredentials?: boolean\r\n  ): Promise<VideoThumbnail> {\r\n    if (withCredentials) {\r\n    }\r\n    video.setAttribute('crossOrigin', withCredentials ? 'use-credentials' : 'anonymous'); // fix cross origin issue\r\n    return new Promise((resolve, reject) => {\r\n      let loadedmetadata = false;\r\n      let loadeddata = false;\r\n      const tryGetThumbnail = () => {\r\n        if (!(loadedmetadata && loadeddata)) {\r\n          return;\r\n        }\r\n        const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        let color: RGBA | undefined;\r\n        if (calculateAverageColor) {\r\n          const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\r\n          color = this.getAverageColor(imageData.data);\r\n        }\r\n        const url = canvas.toDataURL();\r\n        resolve({\r\n          url,\r\n          color,\r\n          width: video.videoWidth,\r\n          height: video.videoHeight,\r\n        });\r\n      };\r\n      // Load metadata of the video to get video duration and dimensions\r\n      video.addEventListener('loadedmetadata', () => {\r\n        // var video_duration = video.duration;\r\n        canvas.width = thumbnailSize;\r\n        canvas.height = (canvas.width / video.videoWidth) * video.videoHeight;\r\n        video.currentTime = 1; // video time\r\n        loadedmetadata = true;\r\n        tryGetThumbnail();\r\n      });\r\n\r\n      video.addEventListener('loadeddata', () => {\r\n        loadeddata = true;\r\n        tryGetThumbnail();\r\n      });\r\n    });\r\n  }\r\n\r\n  public getDataURL(file: File): Promise<string> {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        if (!(event.target && event.target.result)) {\r\n          return resolve('');\r\n        }\r\n        resolve(event.target.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  public getImageOrientationFromArrayBuffer(buffer: ArrayBuffer): number {\r\n    // -2: not jpeg\r\n    // -1: not defined\r\n    const view = new DataView(buffer);\r\n    if (view.getUint16(0, false) !== 0xffd8) {\r\n      return -2;\r\n    }\r\n    const length = view.byteLength;\r\n    let offset = 2;\r\n    while (offset < length) {\r\n      if (view.getUint16(offset + 2, false) <= 8) {\r\n        return -1;\r\n      }\r\n      const marker = view.getUint16(offset, false);\r\n      offset += 2;\r\n      if (marker === 0xffe1) {\r\n        if (view.getUint32((offset += 2), false) !== 0x45786966) {\r\n          return -1;\r\n        }\r\n        const little = view.getUint16((offset += 6), false) === 0x4949;\r\n        offset += view.getUint32(offset + 4, little);\r\n        const tags = view.getUint16(offset, little);\r\n        offset += 2;\r\n        for (let i = 0; i < tags; i++) {\r\n          if (view.getUint16(offset + i * 12, little) === 0x0112) {\r\n            return view.getUint16(offset + i * 12 + 8, little);\r\n          }\r\n        }\r\n        // tslint:disable-next-line\r\n      } else if ((marker & 0xff00) !== 0xff00) {\r\n        break;\r\n      } else {\r\n        offset += view.getUint16(offset, false);\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  public getImageOrientation(file: File): Promise<number> {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      if (!reader.readAsArrayBuffer) {\r\n        return resolve(-3);\r\n      }\r\n      reader.onload = (event) => {\r\n        if (!(event.target && event.target.result)) {\r\n          return resolve(-3);\r\n        }\r\n        resolve(this.getImageOrientationFromArrayBuffer(event.target.result as ArrayBuffer));\r\n      };\r\n      // https://stackoverflow.com/questions/3248946/what-is-the-maximum-size-of-jpeg-metadata\r\n      // https://twitter.com/jaffathecake/status/1085443592678752256\r\n      // reader.readAsArrayBuffer(file);\r\n      reader.readAsArrayBuffer(file.slice(0, 65536));\r\n    });\r\n  }\r\n\r\n  public rotateCanvas(\r\n    srcOrientation: number,\r\n    canvas: HTMLCanvasElement,\r\n    ctx: CanvasRenderingContext2D,\r\n    width: number,\r\n    height: number\r\n  ) {\r\n    // set proper canvas dimensions before transform & export\r\n    if (4 < srcOrientation && srcOrientation < 9) {\r\n      canvas.width = height;\r\n      canvas.height = width;\r\n    } else {\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n    }\r\n\r\n    // transform context before drawing image\r\n    switch (srcOrientation) {\r\n      case 2:\r\n        ctx.transform(-1, 0, 0, 1, width, 0);\r\n        break;\r\n      case 3:\r\n        ctx.transform(-1, 0, 0, -1, width, height);\r\n        break;\r\n      case 4:\r\n        ctx.transform(1, 0, 0, -1, 0, height);\r\n        break;\r\n      case 5:\r\n        ctx.transform(0, 1, 1, 0, 0, 0);\r\n        break;\r\n      case 6:\r\n        ctx.transform(0, 1, -1, 0, height, 0);\r\n        break;\r\n      case 7:\r\n        ctx.transform(0, -1, -1, 0, height, width);\r\n        break;\r\n      case 8:\r\n        ctx.transform(0, -1, 1, 0, 0, width);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  public getImageResized(\r\n    image: HTMLImageElement,\r\n    widthLimit: number,\r\n    heightLimit?: number,\r\n    orientation?: number,\r\n    calculateAverageColor?: boolean\r\n  ): ImageThumbnail | null {\r\n    let width = image.width;\r\n    let height = image.height;\r\n    const thumbnailSize = widthLimit;\r\n    if (widthLimit && heightLimit) {\r\n      width = widthLimit;\r\n      height = heightLimit;\r\n    } else {\r\n      if (width > height) {\r\n        if (width > thumbnailSize) {\r\n          height *= thumbnailSize / width;\r\n          width = thumbnailSize;\r\n        }\r\n      } else {\r\n        if (height > thumbnailSize) {\r\n          width *= thumbnailSize / height;\r\n          height = thumbnailSize;\r\n        }\r\n      }\r\n    }\r\n\r\n    width = Math.floor(width);\r\n    height = Math.floor(height);\r\n\r\n    const canvas = document.createElement('canvas');\r\n    const context = canvas.getContext('2d');\r\n    if (!context) {\r\n      return null;\r\n    }\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    if (orientation !== undefined) {\r\n      this.rotateCanvas(orientation, canvas, context, width, height);\r\n    }\r\n\r\n    context.drawImage(image, 0, 0, width, height);\r\n    let avgColor = null;\r\n    try {\r\n      let rgba: RGBA | undefined;\r\n      if (calculateAverageColor) {\r\n        const imageData = context.getImageData(0, 0, width, height);\r\n        rgba = this.getAverageColor(imageData.data);\r\n      }\r\n      if (rgba) {\r\n        avgColor = rgba;\r\n      }\r\n    } catch (e) {\r\n      /* security error, img on diff domain */\r\n    }\r\n    return {\r\n      image,\r\n      url: canvas.toDataURL('image/png'),\r\n      color: avgColor,\r\n    } as ImageThumbnail;\r\n  }\r\n\r\n  public resizeImageUrl(\r\n    image: HTMLImageElement,\r\n    url: string,\r\n    thumbnailSize: number,\r\n    calculateAverageColor?: boolean\r\n  ): Promise<ImageThumbnail | null> {\r\n    return new Promise((resolve, reject) => {\r\n      image.onload = () => {\r\n        if (!calculateAverageColor) {\r\n          resolve({\r\n            image,\r\n            url,\r\n            color: undefined,\r\n          } as ImageThumbnail);\r\n          return;\r\n        }\r\n        const resized = this.getImageResized(image, thumbnailSize, undefined, undefined, calculateAverageColor);\r\n        if (resized) {\r\n          resized.url = url;\r\n        }\r\n        resolve(resized);\r\n      };\r\n      image.onerror = () => {\r\n        reject('Image loading failed: ' + url);\r\n      };\r\n      image.src = url;\r\n    });\r\n  }\r\n\r\n  public resizeImageFile(\r\n    image: HTMLImageElement,\r\n    file: File,\r\n    thumbnailSize: number,\r\n    calculateAverageColor?: boolean\r\n  ): Promise<ImageThumbnail | null> {\r\n    return new Promise((resolve, reject) => {\r\n      if (file.type.indexOf('image') === -1) {\r\n        reject(new Error('Not an image'));\r\n        return;\r\n      }\r\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\r\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\r\n      let shouldRevoke = false;\r\n      const orientationPromise = this.getImageOrientation(file);\r\n      image.onload = () => {\r\n        orientationPromise.then((orientation) => {\r\n          const resized = this.getImageResized(image, thumbnailSize, undefined, orientation, calculateAverageColor);\r\n          if (shouldRevoke) {\r\n            revokeObjectURL(image.src);\r\n          }\r\n          resolve(resized);\r\n        });\r\n      };\r\n      if (!(file instanceof File)) {\r\n        return reject('Invalid file object. Use url or a valid instance of File class');\r\n      }\r\n      if (createObjectURL && revokeObjectURL) {\r\n        shouldRevoke = true;\r\n        image.src = createObjectURL(file);\r\n        return;\r\n      }\r\n      this.getDataURL(file).then((dataUrl) => {\r\n        image.src = dataUrl;\r\n      });\r\n    });\r\n  }\r\n\r\n  public resizeImage(\r\n    thumbnailSize: number,\r\n    file?: File,\r\n    url?: string,\r\n    calculateAverageColor?: boolean,\r\n    withCredentials?: boolean\r\n  ): Promise<ImageThumbnail | null> {\r\n    const image = new Image();\r\n    image.setAttribute('crossOrigin', withCredentials ? 'use-credentials' : 'anonymous');\r\n    return url\r\n      ? this.resizeImageUrl(image, url, thumbnailSize, calculateAverageColor)\r\n      : this.resizeImageFile(image, file as File, thumbnailSize, calculateAverageColor);\r\n  }\r\n\r\n  public getSizeFormatted(bytes: number) {\r\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) {\r\n      return '0 B';\r\n    }\r\n    let i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n    i = parseInt('' + i, 10);\r\n    return Math.round(bytes / Math.pow(1024, i)) + ' ' + sizes[i];\r\n  }\r\n\r\n  public getSizeParsed(size: string): number {\r\n    size = ('' + size).toUpperCase();\r\n    const matches = size.match(/([\\d|.]+?)\\s*?([A-Z]+)/);\r\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n    if (!matches) {\r\n      return parseFloat(size);\r\n    }\r\n    const i = sizes.indexOf(matches[2]);\r\n    if (i === -1) {\r\n      return parseFloat(size);\r\n    }\r\n    return parseFloat(matches[1]) * Math.pow(1024, i);\r\n  }\r\n\r\n  public getColorForText(text: string): string {\r\n    const getHashCode = (value: string) => {\r\n      let hash = 0;\r\n      if (value.length === 0) {\r\n        return hash;\r\n      }\r\n      for (let i = 0; i < value.length; i++) {\r\n        // tslint:disable-next-line\r\n        hash = value.charCodeAt(i) + ((hash << 5) - hash);\r\n        // tslint:disable-next-line\r\n        hash = hash & hash; // Convert to 32bit integer\r\n      }\r\n      return hash;\r\n    };\r\n    const intToHSL = (value: number) => {\r\n      const h = value % 360;\r\n      const s = value % 100;\r\n      const l = 50;\r\n      return 'hsl(' + h + ',' + s + '%,' + l + '%, 0.75)';\r\n    };\r\n    return intToHSL(getHashCode(text.toLowerCase()));\r\n  }\r\n\r\n  public validateType(file: File, accept?: string): boolean {\r\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept\r\n    // https://gitlab.com/meno/dropzone/blob/master/src/dropzone.js#L2511\r\n    if (!accept) {\r\n      return true;\r\n    } // If there are no accepted mime types, it's OK\r\n    const acceptedFiles = accept.split(',');\r\n\r\n    const mimeType = file.type;\r\n    const baseMimeType = mimeType.replace(/\\/.*$/, '');\r\n\r\n    for (let validType of acceptedFiles) {\r\n      validType = validType.trim();\r\n      if (validType.charAt(0) === '.') {\r\n        // extension\r\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\r\n          return true;\r\n        }\r\n      } else if (/\\/\\*$/.test(validType)) {\r\n        // This is something like a image/* mime type\r\n        if (baseMimeType === validType.replace(/\\/.*$/, '')) {\r\n          return true;\r\n        }\r\n      } else {\r\n        if (mimeType === validType) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public validateSize(file: File, maxSize?: string): boolean {\r\n    if (!maxSize) {\r\n      return true;\r\n    }\r\n    const bytes = this.getSizeParsed(maxSize);\r\n    return file.size <= bytes;\r\n  }\r\n\r\n  public getFilesFromDroppedItems(dataTransfer: DataTransfer) {\r\n    return getFilesFromDroppedItems(dataTransfer);\r\n  }\r\n}\r\n\r\nexport default new Utils();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[\n    'file-preview-wrapper-' + _vm.fileRecord.ext(),\n    _vm.fileRecord.isImage() ? 'file-preview-wrapper-image' : 'file-preview-wrapper-other',\n    'file-category-' + _vm.fileRecord.icon().category,\n    { 'file-is-playing-av': _vm.fileRecord.isPlayingAv },\n    { 'is-deletable': _vm.deletable === true },\n    { 'is-downloadable': _vm.downloadable === true },\n    { 'is-editable': _vm.editable === true },\n    { 'is-edit-input-focused': _vm.isEditInputFocused },\n    { 'has-error': _vm.fileRecord.error } ]},[(_vm.fileRecord.isPlayableAudio() || _vm.fileRecord.isPlayableVideo())?_c('div',{ref:\"wrapper\",staticClass:\"file-av-wrapper\"},[_c('div',{staticClass:\"file-av-action\",on:{\"click\":function($event){return _vm.playAv(_vm.fileRecord)}}},[_c('span',{staticClass:\"file-av-stop\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1),_c('span',{staticClass:\"file-av-play\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-av-play\"}})],1)])]):_vm._e(),_c('span',{staticClass:\"file-preview\",class:{\n      'image-preview': _vm.fileRecord.isImage(),\n      'other-preview': !_vm.fileRecord.isImage(),\n      'dark-content': _vm.fileRecord.isImage() && _vm.fileRecord.isDarkColor(),\n    },style:({\n      'background-color': _vm.fileRecord.color(),\n    })},[(_vm.fileRecord.error)?_c('span',{staticClass:\"file-error-wrapper\",on:{\"click\":function($event){return _vm.dismissError()}}},[_c('span',{staticClass:\"file-error-message file-error-message-client\"},[_vm._v(\" \"+_vm._s(_vm.fileRecord.getErrorMessage(_vm.errorText))+\" \")])]):_vm._e(),_c('span',{staticClass:\"file-preview-overlay\"}),(_vm.fileRecord.isImage() || _vm.fileRecord.isPlayableVideo())?_c('span',{staticClass:\"thumbnail\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\",\"overflow\":\"hidden\"}},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_vm._e(),_c('span',{staticClass:\"file-ext\"},[_vm._v(_vm._s(_vm.fileRecord.ext()))]),_c('span',{staticClass:\"file-size\"},[_vm._v(_vm._s(_vm.fileRecord.size()))]),(_vm.downloadable)?_c('span',{staticClass:\"file-download\",on:{\"click\":function($event){return _vm.viewFileRecord(_vm.fileRecord)}}},[_c('VueFileIcon',{attrs:{\"name\":\"system-view-file\"}})],1):_vm._e(),(_vm.deletable)?_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.removeFileRecord(_vm.fileRecord)},\"touchstart\":function($event){return _vm.filenameClearPressed()},\"mousedown\":function($event){return _vm.filenameClearPressed()}}},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name\",on:{\"click\":function($event){return _vm.editFileName()}}},[(_vm.editable === true)?_c('input',{ref:\"input\",staticClass:\"file-name-input\",attrs:{\"disabled\":_vm.disabled === true,\"type\":\"text\"},domProps:{\"value\":_vm.fileRecord.name(true)},on:{\"focus\":function($event){return _vm.editInputFocused()},\"blur\":function($event){return _vm.editInputBlured()},\"change\":function($event){return _vm.filenameChanged()},\"input\":function($event){return _vm.filenameChanged()},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.filenameChanged(true)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.filenameChanged(false)}]}}):_vm._e(),(_vm.editable === true)?_c('span',{staticClass:\"file-name-edit-icon\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-name-edit\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name-text\"},[_vm._v(_vm._s(_vm.fileRecord.name(true)))])]),(_vm.fileRecord.dimensions.width && _vm.fileRecord.dimensions.height)?_c('span',{staticClass:\"image-dimension\"},[_c('span',{staticClass:\"image-dimension-width\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.width))]),_c('span',{staticClass:\"image-dimension-height\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.height))])]):_vm._e(),(_vm.fileRecord.hasProgress())?_c('span',{staticClass:\"file-progress\",class:{\n        'file-progress-full': _vm.fileRecord.progress() >= 99.9999,\n        'file-progress-done': _vm.fileRecord.progress() >= 100,\n        'has-file-progress': _vm.fileRecord.progress() > 0,\n      }},[_c('span',{staticClass:\"file-progress-bar\",style:({ width: _vm.fileRecord.progress() + '%' })})]):_vm._e(),_c('span',{staticClass:\"file-icon\"},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1):_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function getFilesFromDroppedItems(dataTransfer: DataTransfer): Promise<File[] | FileList> {\r\n  return new Promise((resolve) => {\r\n    if (!includesFolder(dataTransfer)) {\r\n      return resolve(dataTransfer.files);\r\n    }\r\n    const files: File[] = [];\r\n    const folderReadQueue = [];\r\n    // tslint:disable-next-line\r\n    for (let i = 0; i < dataTransfer.items.length; i++) {\r\n      const item = dataTransfer.items[i];\r\n      if (item.kind !== 'file') {\r\n        continue;\r\n      }\r\n      const fileSystemEntries = getEntries(item);\r\n      if (fileSystemEntries) {\r\n        folderReadQueue.push(fileSystemEntries);\r\n      } else {\r\n        const file = item.getAsFile();\r\n        if (file) {\r\n          files.push(file);\r\n        }\r\n      }\r\n    }\r\n    Promise.all(folderReadQueue).then((filesInFolders) => {\r\n      resolve(files.concat(...filesInFolders));\r\n    });\r\n  });\r\n}\r\n\r\nfunction getEntries(entry: any): Promise<File[]> | undefined {\r\n  // convert DataTransferItem to FileSystemEntry first if necessary\r\n  if (entry.getAsEntry) {\r\n    return getEntries(entry.getAsEntry());\r\n  }\r\n  if (entry.webkitGetAsEntry) {\r\n    return getEntries(entry.webkitGetAsEntry());\r\n  }\r\n  // return if item is from a browser that does not support webkitGetAsEntry\r\n  if (entry.getAsFile) {\r\n    return;\r\n  }\r\n  // Processing directories with more than 100 files:\r\n  // https://github.com/lian-yue/vue-upload-component/commit/9c9d8aafbcef005a2cc598454383ec65205d61ee\r\n  return new Promise((resolve) => {\r\n    if (entry.isFile) {\r\n      entry.file((file: File) => resolve([file]));\r\n      return;\r\n    }\r\n    if (entry.isDirectory) {\r\n      const files: File[] = [];\r\n      const entryReader = entry.createReader();\r\n      const readEntries = () => {\r\n        entryReader.readEntries((entries: any[]) => {\r\n          const iterateEntry = (i: number) => {\r\n            if (!entries[i] && i === 0) {\r\n              return resolve(files);\r\n            }\r\n            if (!entries[i]) {\r\n              return readEntries();\r\n            }\r\n            (getEntries(entries[i]) as Promise<File[]>).then((entryFiles: File[]) => {\r\n              files.push(...entryFiles);\r\n              iterateEntry(i + 1);\r\n            });\r\n          };\r\n          iterateEntry(0);\r\n        });\r\n      };\r\n      readEntries();\r\n    }\r\n    if (!entry.isFile && !entry.isDirectory) {\r\n      resolve([]);\r\n    }\r\n  });\r\n}\r\n\r\nfunction includesFolder(transfer: DataTransfer): boolean {\r\n  if (!transfer.files.length) {\r\n    return true; // if dropping only folders, no files will exist\r\n  }\r\n\r\n  // Loop through the dropped items and log their data\r\n  for (const item of transfer.items) {\r\n    if (item.webkitGetAsEntry != null) {\r\n      const entry = item.webkitGetAsEntry();\r\n\r\n      if (entry && entry.isDirectory) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  const files: FileList = transfer.files;\r\n\r\n  // tslint:disable-next-line\r\n  for (let i = 0; i < files.length; i++) {\r\n    // A folder has no type and has a size that is a multiple of 4096\r\n    if (!files[i].type && files[i].size % 4096 === 0) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n","import { getIconFromExt, SvgIcon } from './icons';\r\nimport utils from './utils';\r\nimport { RGBA, ImageThumbnail, VideoThumbnail } from './utils';\r\n\r\ninterface Dimensions {\r\n  height: number;\r\n  width: number;\r\n}\r\n\r\ninterface Options {\r\n  accept?: string;\r\n  maxSize?: string;\r\n  read: boolean;\r\n  thumbnailSize?: number;\r\n  averageColor?: boolean;\r\n  withCredentials?: boolean;\r\n}\r\n\r\ninterface ErrorText {\r\n  common?: string;\r\n  type?: string;\r\n  size?: string;\r\n  upload?: string;\r\n}\r\n\r\ninterface ErrorFlags {\r\n  common?: boolean;\r\n  type?: boolean;\r\n  size?: boolean;\r\n  upload?: false | string;\r\n}\r\n\r\ninterface RawFileRecord {\r\n  url: string | ((value?: string) => string | undefined | Promise<FileRecord>);\r\n  urlResized: string | null;\r\n  src: () => any;\r\n  name: any;\r\n  lastModified: number;\r\n  sizeText: string;\r\n  size: number;\r\n  type: string;\r\n  ext: string;\r\n  color: string;\r\n  file: File;\r\n  progress: number | ((progress?: number) => number | void);\r\n  error?: false | ErrorFlags;\r\n  dimensions: Dimensions;\r\n  videoThumbnail: string;\r\n  imageColor: RGBA;\r\n  customName: string;\r\n  upload: UploadData;\r\n}\r\n\r\ninterface DummyFile {\r\n  name: string;\r\n  size: number;\r\n  type: string;\r\n  lastModified: number;\r\n  lastModifiedDate: Date;\r\n}\r\n\r\ninterface UploadData {\r\n  data: any;\r\n  error: string | false;\r\n}\r\n\r\nexport { Dimensions, Options, RawFileRecord };\r\n\r\nclass FileRecord {\r\n  public static getFromRaw(\r\n    rawFileRecord: RawFileRecord,\r\n    options: Options,\r\n    isSync = false\r\n  ): FileRecord | Promise<FileRecord> {\r\n    const fileRecord = new FileRecord(rawFileRecord, options);\r\n    const promise = fileRecord.setUrl(rawFileRecord.url as string);\r\n    rawFileRecord.progress = fileRecord.progress.bind(fileRecord); // convert it as a function\r\n    rawFileRecord.src = fileRecord.src.bind(fileRecord);\r\n    rawFileRecord.name = fileRecord.name.bind(fileRecord); // convert it as a function\r\n    if (isSync) {\r\n      return fileRecord;\r\n    }\r\n    return promise;\r\n  }\r\n\r\n  public static fromRaw(rawFileRecord: RawFileRecord, options: Options): Promise<FileRecord> {\r\n    return FileRecord.getFromRaw(rawFileRecord, options, false) as Promise<FileRecord>;\r\n  }\r\n\r\n  public static fromRawSync(rawFileRecord: RawFileRecord, options: Options): FileRecord {\r\n    return FileRecord.getFromRaw(rawFileRecord, options, true) as FileRecord;\r\n  }\r\n\r\n  public static fromRawArray(rawFileRecords: RawFileRecord[], options: Options): Promise<FileRecord[]> {\r\n    const promises: Array<Promise<FileRecord>> = [];\r\n    for (const rawFileRecord of rawFileRecords) {\r\n      promises.push(FileRecord.fromRaw(rawFileRecord, options));\r\n    }\r\n    return Promise.all(promises);\r\n  }\r\n\r\n  public static toRawArray(fileRecords: FileRecord[]): RawFileRecord[] {\r\n    const rawFileRecords: RawFileRecord[] = [];\r\n    for (const fileRecord of fileRecords) {\r\n      rawFileRecords.push(fileRecord.toRaw());\r\n    }\r\n    return rawFileRecords;\r\n  }\r\n\r\n  public static readFile(fileRecord: FileRecord): Promise<FileRecord> {\r\n    return new Promise((resolve, reject) => {\r\n      if (!fileRecord.read) {\r\n        fileRecord.setUrl(null).then(\r\n          () => {\r\n            resolve(fileRecord);\r\n          },\r\n          (err) => {\r\n            // ignore error\r\n            resolve(fileRecord);\r\n          }\r\n        );\r\n        return;\r\n      }\r\n      utils.getDataURL(fileRecord.file).then((dataUrl) => {\r\n        fileRecord.setUrl(dataUrl).then(() => {\r\n          resolve(fileRecord);\r\n        }, reject);\r\n      }, reject);\r\n    });\r\n  }\r\n\r\n  public static readFiles(fileRecords: FileRecord[]): Promise<FileRecord[]> {\r\n    const promises: Array<Promise<FileRecord>> = [];\r\n    for (const fileRecord of fileRecords) {\r\n      promises.push(FileRecord.readFile(fileRecord));\r\n    }\r\n    return Promise.all(promises);\r\n  }\r\n\r\n  public urlValue: null | string = null;\r\n  public urlResized: null | string = null;\r\n  public image: HTMLImageElement | {} = {};\r\n  public isPlayingAv: boolean = false;\r\n\r\n  public oldFileName: string | null = null;\r\n  public oldCustomName: string | null = null;\r\n  public upload: UploadData = { data: null, error: false };\r\n\r\n  public raw: RawFileRecord;\r\n  public progressInternal: number;\r\n  public accept?: string;\r\n  public dimensions: Dimensions;\r\n  public error: false | ErrorFlags;\r\n  public file: File;\r\n  public height: undefined | number | string;\r\n  public width: undefined | number | string;\r\n  public id: string;\r\n  public imageColor?: RGBA;\r\n  public lastKnownSrc: null | string;\r\n  public maxSize?: string;\r\n  public options: Options;\r\n  public read: boolean;\r\n  public thumbnailSize: number;\r\n  public videoThumbnail: any;\r\n  public customName: any;\r\n  public xhr?: XMLHttpRequest;\r\n  public xhrQueue?: () => any;\r\n  public stopAv?: (() => any) | null;\r\n  public tusUpload?: any;\r\n  public calculateAverageColor: boolean;\r\n\r\n  public constructor(data: RawFileRecord, options: Options) {\r\n    this.urlValue = null;\r\n    this.urlResized = null;\r\n    this.lastKnownSrc = null;\r\n    this.image = {};\r\n    this.isPlayingAv = false;\r\n    this.oldFileName = null;\r\n    this.oldCustomName = null;\r\n\r\n    this.raw = data;\r\n    this.file = data.file instanceof File ? data.file : (this.createDummyFile(data) as any);\r\n    this.progressInternal = !isNaN(data.progress as number) ? (data.progress as number) : 0;\r\n    // this.width = FileRecord.defaultWidth;\r\n    // this.height = FileRecord.defaultHeight;\r\n    this.thumbnailSize = options.thumbnailSize || 360;\r\n    this.read = !!options.read;\r\n    this.dimensions = data.dimensions || { width: 0, height: 0 };\r\n    this.dimensions.width = this.dimensions.width || 0;\r\n    this.dimensions.height = this.dimensions.height || 0;\r\n    this.error = data.error || false;\r\n    this.options = options;\r\n    this.maxSize = options.maxSize;\r\n    this.accept = options.accept;\r\n    this.id = Math.random() + ':' + new Date().getTime();\r\n    this.videoThumbnail = data.videoThumbnail;\r\n    this.imageColor = data.imageColor;\r\n    this.customName = data.customName;\r\n    this.calculateAverageColor = options.averageColor !== undefined ? options.averageColor : true;\r\n    this.validate();\r\n  }\r\n\r\n  // populate(data, options = {}) {}\r\n\r\n  public createDummyFile(data: RawFileRecord): DummyFile {\r\n    const file: DummyFile = {} as DummyFile;\r\n    file.lastModified = data.lastModified;\r\n    const d = new Date();\r\n    if (file.lastModified) {\r\n      d.setTime(file.lastModified);\r\n    }\r\n    file.lastModifiedDate = d;\r\n    file.name = typeof data.name === 'function' ? data.name() : data.name;\r\n    file.size = data.size;\r\n    file.type = data.type;\r\n    return file;\r\n  }\r\n\r\n  public hasProgress(): boolean {\r\n    return !isNaN(this.progressInternal); // && this._progress <= 100;\r\n  }\r\n\r\n  public progress(value?: number): number | void {\r\n    if (value !== undefined) {\r\n      this.progressInternal = value;\r\n      return;\r\n    }\r\n    return this.progressInternal || 0;\r\n  }\r\n\r\n  public url(value?: string): string | undefined | Promise<this> {\r\n    if (value !== undefined) {\r\n      return this.setUrl(value);\r\n    }\r\n    return this.urlValue || undefined;\r\n  }\r\n\r\n  public src(): string {\r\n    if (this.isImage()) {\r\n      return this.urlResized || this.urlValue || (this.file as any).url;\r\n    }\r\n    if (this.isPlayableVideo()) {\r\n      return this.videoThumbnail || '';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  public size(): string {\r\n    if (!this.file) {\r\n      return '';\r\n    }\r\n    return utils.getSizeFormatted(this.file.size);\r\n  }\r\n\r\n  public ext(): string {\r\n    if (this.file && this.file.name.indexOf('.') !== -1) {\r\n      return (this.file.name as any).split('.').pop();\r\n    }\r\n    return '?';\r\n    // return this.file.type.split('/').shift();\r\n  }\r\n\r\n  public name(withoutExt?: boolean): string {\r\n    const ext = this.ext();\r\n    if (this.customName) {\r\n      return this.customName + (withoutExt ? '' : ext !== '?' ? '.' + ext : '');\r\n    }\r\n    const name = this.file && this.file.name;\r\n    if (withoutExt) {\r\n      if (ext !== '?') {\r\n        return name.substr(0, name.length - (ext.length + 1));\r\n      }\r\n    }\r\n    return name;\r\n  }\r\n\r\n  public isDarkColor(): boolean {\r\n    if (this.imageColor) {\r\n      const rgb = this.imageColor;\r\n      const darkPoint = 20;\r\n      return rgb[0] <= darkPoint && rgb[1] <= darkPoint && rgb[2] <= darkPoint;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public color(): string {\r\n    if (this.imageColor) {\r\n      const rgb = this.imageColor;\r\n      return 'rgb(' + rgb[0] + ', ' + rgb[1] + ', ' + rgb[2] + ')';\r\n    }\r\n    if (this.isImage()) {\r\n      return 'transparent';\r\n    }\r\n    const ext = this.ext();\r\n    const svgIcon = this.icon();\r\n    // var svgIcon = getIconFromExt(ext);\r\n    if (svgIcon.color) {\r\n      return svgIcon.color;\r\n    }\r\n    return utils.getColorForText(ext);\r\n  }\r\n\r\n  public isImage(): boolean {\r\n    return this.file && !!this.file.type.match(/image((?!vnd).)*$/i);\r\n  }\r\n\r\n  public isVideo(): boolean {\r\n    return this.file && this.file.type.indexOf('video') !== -1;\r\n  }\r\n\r\n  public isPlayableVideo(): boolean {\r\n    return this.icon().category === 'video-playable';\r\n  }\r\n\r\n  public isAudio(): boolean {\r\n    return this.file && this.file.type.indexOf('audio') !== -1;\r\n  }\r\n\r\n  public isPlayableAudio(): boolean {\r\n    return this.icon().category === 'audio-playable';\r\n  }\r\n\r\n  public isText(): boolean {\r\n    return this.file && this.file.type.indexOf('text') !== -1;\r\n  }\r\n\r\n  public setUrl(url: string | null): Promise<this> {\r\n    this.urlValue = url;\r\n    return new Promise((resolve, reject) => {\r\n      if (this.isImage()) {\r\n        this.resizeImage().then(\r\n          () => {\r\n            resolve(this);\r\n          },\r\n          (err) => {\r\n            resolve(this);\r\n          }\r\n        );\r\n        return;\r\n      }\r\n      resolve(this);\r\n    });\r\n  }\r\n\r\n  public imageResized(resized: ImageThumbnail | null) {\r\n    if (!resized) {\r\n      return;\r\n    }\r\n    this.urlResized = resized.url;\r\n    this.image = resized.image;\r\n    if (resized.image && resized.image.width && resized.image.height) {\r\n      this.dimensions.width = resized.image.width;\r\n      this.dimensions.height = resized.image.height;\r\n    }\r\n    this.lastKnownSrc = this.urlResized;\r\n    this.imageColor = resized.color;\r\n  }\r\n\r\n  public resizeImage(): Promise<this> {\r\n    return new Promise((resolve, reject) => {\r\n      utils\r\n        .resizeImage(this.thumbnailSize, this.file, this.urlValue as string, this.calculateAverageColor)\r\n        .then((resized) => {\r\n          this.imageResized(resized);\r\n          resolve(this);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  }\r\n\r\n  public icon(): SvgIcon {\r\n    const ext = this.ext();\r\n    const svgIcon = getIconFromExt(ext);\r\n    return svgIcon;\r\n  }\r\n\r\n  public getErrorMessage(errorText?: ErrorText): string {\r\n    const error = this.error;\r\n    if (!error) {\r\n      return '';\r\n    }\r\n    errorText = errorText || {};\r\n    errorText = {\r\n      common: errorText.common || 'Invalid file.',\r\n      type: errorText.type || 'Invalid file type.',\r\n      size: errorText.size || 'Files should not exceed ' + this.maxSize + ' in size',\r\n    };\r\n    if (error.type) {\r\n      return errorText.type as string;\r\n    } else if (error.size) {\r\n      return errorText.size as string;\r\n    } else if (error.upload) {\r\n      return this.upload.error ? this.upload.error : error.upload;\r\n    }\r\n    return errorText.common as string;\r\n  }\r\n\r\n  public toRaw(): RawFileRecord {\r\n    const raw = this.raw || ({} as RawFileRecord);\r\n    // raw.url = this.urlValue;\r\n    raw.url = this.url.bind(this);\r\n    raw.urlResized = this.urlResized;\r\n    raw.src = this.src.bind(this);\r\n    raw.name = this.name.bind(this);\r\n    raw.lastModified = this.file.lastModified;\r\n    raw.sizeText = this.size();\r\n    raw.size = this.file.size;\r\n    raw.type = this.file.type;\r\n    raw.ext = this.ext();\r\n    raw.color = this.color();\r\n    raw.file = this.file;\r\n    raw.progress = this.progress.bind(this); // pass it as a function\r\n    raw.upload = this.upload;\r\n    if (!('error' in raw)) {\r\n      Object.defineProperty(raw, 'error', {\r\n        get: () => {\r\n          return this.error;\r\n        },\r\n      });\r\n    }\r\n    raw.dimensions = this.dimensions;\r\n    return raw;\r\n  }\r\n\r\n  public validate(): void {\r\n    const validType = utils.validateType(this.file, this.accept);\r\n    const validSize = utils.validateSize(this.file, this.maxSize as string);\r\n    if (!validType || !validSize) {\r\n      this.error = {\r\n        type: !validType,\r\n        size: !validSize,\r\n      };\r\n    } else {\r\n      this.error = false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default FileRecord;\r\n","import utils from '../lib/utils';\r\nimport VueFileIcon from './vue-file-icon.vue';\r\nimport FileRecord, { RawFileRecord, Options } from '../lib/file-record';\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  props: [\r\n    'value',\r\n    'deletable',\r\n    'downloadable',\r\n    'editable',\r\n    'linkable',\r\n    'errorText',\r\n    'disabled',\r\n    'thumbnailSize',\r\n    'averageColor',\r\n    'withCredentials',\r\n  ],\r\n  components: {\r\n    VueFileIcon,\r\n  },\r\n  data() {\r\n    return {\r\n      isEditInputFocused: false,\r\n      isEditCancelable: true,\r\n      fileRecord: {} as FileRecord,\r\n    };\r\n  },\r\n  computed: {\r\n    hasLinkableUrl(): boolean {\r\n      if (!this.linkable) {\r\n        return false;\r\n      }\r\n      return !!this.fileRecord.url() && !this.fileRecord.isPlayableVideo() && !this.fileRecord.isPlayableAudio();\r\n    },\r\n  },\r\n  methods: {\r\n    updateFileRecord() {\r\n      if (this.value instanceof FileRecord) {\r\n        this.fileRecord = this.value;\r\n        return;\r\n      }\r\n      FileRecord.fromRaw(this.value, {\r\n        thumbnailSize: this.thumbnailSize,\r\n        averageColor: this.averageColor,\r\n        withCredentials: this.withCredentials,\r\n      } as Options).then((fileRecord) => {\r\n        this.fileRecord = fileRecord;\r\n      });\r\n      this.fileRecord = FileRecord.fromRawSync(this.value, {\r\n        thumbnailSize: this.thumbnailSize,\r\n        averageColor: this.averageColor,\r\n        withCredentials: this.withCredentials,\r\n      } as Options);\r\n    },\r\n    createThumbnail(fileRecord: FileRecord, video: HTMLVideoElement) {\r\n      if (fileRecord.videoThumbnail) {\r\n        video.poster = fileRecord.src();\r\n        return;\r\n      }\r\n      const canvas = document.createElement('canvas');\r\n      utils\r\n        .createVideoThumbnail(\r\n          video,\r\n          canvas,\r\n          this.fileRecord.thumbnailSize,\r\n          this.averageColor !== false,\r\n          this.withCredentials === true\r\n        )\r\n        .then((thumbnail) => {\r\n          fileRecord.imageColor = thumbnail.color;\r\n          fileRecord.videoThumbnail = thumbnail.url;\r\n          fileRecord.dimensions.width = thumbnail.width;\r\n          fileRecord.dimensions.height = thumbnail.height;\r\n          video.poster = fileRecord.src();\r\n        });\r\n    },\r\n\r\n    playAv(fileRecord: FileRecord) {\r\n      if (fileRecord.stopAv) {\r\n        fileRecord.stopAv();\r\n        return;\r\n      }\r\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\r\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\r\n\r\n      const wrapper = this.$refs.wrapper as HTMLElement;\r\n      const player = document.createElement(fileRecord.isAudio() ? 'audio' : 'video');\r\n      if (player instanceof HTMLVideoElement && fileRecord.isPlayableVideo()) {\r\n        this.createThumbnail(fileRecord, player);\r\n      }\r\n      player.controls = true;\r\n      // player.style.width = this.prvWidth + 'px';\r\n      wrapper.appendChild(player);\r\n      const url = (fileRecord.url() as string) || createObjectURL(fileRecord.file);\r\n      player.src = url;\r\n      player.play();\r\n      fileRecord.isPlayingAv = true;\r\n      fileRecord.stopAv = () => {\r\n        // player.src = null;\r\n        player.src = '';\r\n        wrapper.removeChild(player);\r\n        revokeObjectURL(url);\r\n        fileRecord.isPlayingAv = false;\r\n        fileRecord.stopAv = null;\r\n      };\r\n    },\r\n\r\n    viewFileRecord(fileRecord: FileRecord) {\r\n      console.log(fileRecord.file)\r\n\r\n      var originalFile = fileRecord.file;\r\n\r\n      var newFile  = new Blob([originalFile], {type: originalFile.type});\r\n\r\n      console.log(newFile);\r\n      this.$emit('get-blob', newFile);\r\n    },\r\n\r\n    removeFileRecord(fileRecord: FileRecord) {\r\n      if (this.clearFilename()) {\r\n        return;\r\n      }\r\n      if (this.disabled === true) {\r\n        return;\r\n      }\r\n      this.$emit('remove', fileRecord);\r\n    },\r\n\r\n    editFileName() {\r\n      if (this.editable !== true) {\r\n        return;\r\n      }\r\n      if (!this.$refs.input) {\r\n        return;\r\n      }\r\n      (this.$refs.input as HTMLInputElement).focus();\r\n    },\r\n\r\n    editInputFocused() {\r\n      this.isEditInputFocused = true;\r\n      this.isEditCancelable = true;\r\n    },\r\n\r\n    editInputBlured() {\r\n      this.fileRecord.oldFileName = this.fileRecord.name();\r\n      const oldValue = this.fileRecord.name(true);\r\n      const value = (this.$refs.input as HTMLInputElement).value;\r\n      this.fileRecord.customName = value;\r\n      const newValue = this.fileRecord.name(true);\r\n      if (newValue !== oldValue) {\r\n        this.fileRecord.oldCustomName = oldValue;\r\n        this.$emit('rename', this.fileRecord);\r\n      }\r\n      const timeout = 100;\r\n      setTimeout(() => {\r\n        this.$nextTick(() => {\r\n          if (!this.isEditCancelable) {\r\n            return;\r\n          }\r\n          this.isEditInputFocused = false;\r\n        });\r\n      }, timeout);\r\n    },\r\n\r\n    filenameChanged(completed?: boolean) {\r\n      if (completed) {\r\n        (this.$refs.input as HTMLInputElement).blur(); // @see editInputBlured method\r\n      }\r\n      if (completed === false) {\r\n        this.clearFilename();\r\n      }\r\n    },\r\n\r\n    filenameClearPressed() {\r\n      if (!(this.editable === true && this.isEditInputFocused)) {\r\n        return;\r\n      }\r\n      this.isEditCancelable = false;\r\n    },\r\n\r\n    clearFilename() {\r\n      if (!(this.editable === true && this.isEditInputFocused)) {\r\n        return false;\r\n      }\r\n      (this.$refs.input as HTMLInputElement).value = '';\r\n      this.isEditCancelable = true;\r\n      this.editInputBlured();\r\n      return true;\r\n    },\r\n\r\n    dismissError() {\r\n      if (this.fileRecord.error && (this.fileRecord.error.size || this.fileRecord.error.type)) {\r\n        return;\r\n      }\r\n      this.fileRecord.error = false;\r\n    },\r\n  },\r\n  created() {\r\n    this.updateFileRecord();\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.updateFileRecord();\r\n    },\r\n  },\r\n});\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport mixin from './vue-file-preview-mixin';\r\n\r\nexport default Vue.extend({\r\n  mixins: [mixin],\r\n});\r\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-preview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-preview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-preview.vue?vue&type=template&id=9744352e&\"\nimport script from \"./vue-file-preview.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-preview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  props: ['value', 'axis', 'appendTo'],\r\n});\r\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-list.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-list.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-list.vue?vue&type=template&id=5ef04e06&\"\nimport script from \"./vue-file-list.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-list.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  props: ['index'],\r\n});\r\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-list-item.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-list-item.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-list-item.vue?vue&type=template&id=00f7ef53&\"\nimport script from \"./vue-file-list-item.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-list-item.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[\n    'is-sortable-' + (_vm.isSortable ? 'enabled' : 'disabled'),\n    {\n      'is-sortable-hold': _vm.sortable === 'hold',\n      'is-sortable-handle': _vm.sortable === 'handle',\n      'is-sortable-immediately': _vm.sortable === true,\n      'is-sorting': _vm.isSorting,\n      'is-sorting-active': _vm.isSortingActive,\n      'is-drag-over': _vm.isDragging,\n      'is-disabled': _vm.disabled === true,\n      'is-readonly': _vm.readonly === true,\n      'is-drag-valid': !(_vm.disabled === true || _vm.readonly === true || (_vm.hasMultiple && !_vm.canAddMore)),\n    },\n    'theme-' + _vm.theme ],attrs:{\"id\":'vfa-' + _vm.uniqueId},on:{\"dragover\":_vm.dragOver,\"dragenter\":_vm.dragEnter,\"dragleave\":_vm.dragLeave,\"drop\":_vm.drop}},[_vm._t(\"before-outer\"),_c('div',{staticClass:\"grid-block-wrapper vue-file-agent file-input-wrapper\",class:{\n      'is-compact': !!_vm.compact,\n      'is-single': !_vm.hasMultiple,\n      'has-multiple': _vm.hasMultiple,\n      'no-meta': _vm.meta === false,\n    }},[_vm._t(\"before-inner\"),_c('canvas',{ref:\"thumbnailCanvas\",staticStyle:{\"position\":\"fixed\",\"visibility\":\"hidden\",\"z-index\":\"-3\"}}),(_vm.overallProgress)?_c('div',{staticClass:\"overall-progress\",class:{ 'overall-progress-full': _vm.overallProgress >= 100 }},[_c('div',{staticClass:\"overall-progress-bar\",style:({ width: _vm.overallProgress + '%' })}),_c('div',{staticClass:\"overall-progress-left\",style:({ width: 100 - _vm.overallProgress + '%' })})]):_vm._e(),_c(_vm.isSortable ? 'vfa-sortable-list' : 'VueFileList',{tag:\"component\",attrs:{\"axis\":_vm.theme == 'list' ? 'y' : 'xy',\"appendTo\":'#vfa-' + _vm.uniqueId + ' .vue-file-agent',\"transitionDuration\":_vm.transitionDuration,\"pressDelay\":_vm.sortable === 'hold' ? 200 : 0,\"useDragHandle\":_vm.sortable === 'handle',\"helperClass\":'active-sorting-item'},on:{\"sort-start\":function($event){return _vm.sortStart()},\"sort-end\":function($event){return _vm.sortEnd($event)}},model:{value:(_vm.fileRecords),callback:function ($$v) {_vm.fileRecords=$$v},expression:\"fileRecords\"}},[_c('transition-group',{attrs:{\"name\":\"grid-box\",\"tag\":\"div\"}},[_vm._l((_vm.fileRecords),function(fileRecord,index){return _c(_vm.isSortable ? 'vfa-sortable-item' : 'VueFileListItem',{key:fileRecord.id,tag:\"component\",staticClass:\"file-preview-wrapper grid-box-item grid-block\",attrs:{\"index\":index}},[(_vm.sortable === 'handle')?_c('span',{directives:[{name:\"vfa-sortable-handle\",rawName:\"v-vfa-sortable-handle\"}],staticClass:\"file-sortable-handle\"},[_vm._t(\"sortable-handle\",[_c('VueFileIcon',{attrs:{\"name\":\"system-sortable-handle\"}})])],2):_vm._e(),_vm._t(\"file-preview-before\",null,{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index}),_vm._t(\"file-preview\",[_c('VueFilePreview',{attrs:{\"averageColor\":_vm.averageColor,\"value\":fileRecord,\"deletable\":_vm.isDeletable,\"downloadable\":_vm.isDownloadable,\"editable\":_vm.editable === true,\"linkable\":_vm.linkable === true,\"errorText\":_vm.errorText,\"disabled\":_vm.disabled,\"thumbnailSize\":_vm.thumbnailSize,\"withCredentials\":_vm.withCredentials},on:{\"get-blob\":function($event){return _vm.readBLOB($event)},\"remove\":function($event){return _vm.removeFileRecord($event)},\"rename\":function($event){return _vm.filenameChanged($event)}}})],{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index}),_vm._t(\"file-preview-after\",null,{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index})],2)}),(_vm.canAddMore && _vm.readonly !== true)?[_vm._t(\"file-preview-new\",[_c('div',{key:\"new\",staticClass:\"file-preview-wrapper grid-box-item grid-block file-preview-new\"},[_c('span',{staticClass:\"file-preview\"},[_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\"}},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-preview-new\"}}),_c('span',{staticClass:\"help-text\"},[_vm._v(_vm._s(_vm.helpTextComputed))])],1)])])])]:_vm._e()],2)],1),(_vm.readonly !== true)?_c('input',{ref:\"fileInput\",staticClass:\"file-input\",attrs:{\"title\":\"\",\"disabled\":_vm.disabled === true || (_vm.hasMultiple && !_vm.canAddMore),\"type\":\"file\",\"multiple\":_vm.hasMultiple,\"accept\":_vm.accept || '*',\"capture\":_vm.capture || undefined},on:{\"change\":_vm.filesChanged}}):_vm._e(),_vm._t(\"after-inner\")],2),_vm._t(\"after-outer\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export type ConfigureFn = (request: XMLHttpRequest) => any;\r\nexport interface AjaxResponse {\r\n  data: any;\r\n  status: number;\r\n  statusText: string;\r\n  headers: string;\r\n  request: XMLHttpRequest;\r\n}\r\nexport type AjaxRequestData = FormData | any;\r\nexport interface AjaxError extends Error {\r\n  error: true;\r\n  code: string;\r\n  request: XMLHttpRequest;\r\n  response?: AjaxResponse;\r\n}\r\n\r\n/* inspired by axios */\r\nclass AjaxRequest {\r\n  public createError(\r\n    message: string,\r\n    code: string | null,\r\n    request: XMLHttpRequest,\r\n    response?: AjaxResponse\r\n  ): AjaxError {\r\n    const error: AjaxError = new Error(message) as AjaxError;\r\n    error.error = true;\r\n    if (code) {\r\n      error.code = code;\r\n    }\r\n    error.request = request;\r\n    error.response = response;\r\n    return error;\r\n  }\r\n\r\n  public settle(resolve: any, reject: any, response: AjaxResponse) {\r\n    const validateStatus = (status: number) => {\r\n      return status >= 200 && status < 300;\r\n    };\r\n    // Note: status is not exposed by XDomainRequest\r\n    if (!response.status || !validateStatus || validateStatus(response.status)) {\r\n      resolve(response);\r\n    } else {\r\n      reject(this.createError('Request failed with status code ' + response.status, null, response.request, response));\r\n    }\r\n  }\r\n\r\n  public request(\r\n    method: string,\r\n    url: string,\r\n    formData: AjaxRequestData | null = null,\r\n    configureFn?: ConfigureFn\r\n  ): Promise<AjaxResponse> {\r\n    return new Promise((resolve, reject) => {\r\n      // tslint:disable-next-line\r\n      let request = new XMLHttpRequest();\r\n      const loadEvent = 'onreadystatechange';\r\n\r\n      request.open(method, url, true);\r\n\r\n      // Listen for ready state\r\n      request[loadEvent] = () => {\r\n        if (!request || request.readyState !== 4) {\r\n          return;\r\n        }\r\n\r\n        // The request errored out and we didn't get a response, this will be\r\n        // handled by onerror instead\r\n        // With one exception: request that using file: protocol, most browsers\r\n        // will return status as 0 even though it's a successful request\r\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\r\n          return;\r\n        }\r\n\r\n        // Prepare the response\r\n        const responseHeaders = request.getAllResponseHeaders();\r\n        let responseData: any = request.responseText;\r\n        const contentType = request.getResponseHeader('Content-Type');\r\n        if (contentType && contentType.indexOf('application/json') !== -1) {\r\n          responseData = JSON.parse(responseData);\r\n        } else {\r\n          try {\r\n            responseData = JSON.parse(responseData);\r\n          } catch (e) {\r\n            /* ignore, possibly non json response */\r\n          }\r\n        }\r\n        const response: AjaxResponse = {\r\n          data: responseData,\r\n          // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\r\n          status: request.status === 1223 ? 204 : request.status,\r\n          statusText: request.status === 1223 ? 'No Content' : request.statusText,\r\n          headers: responseHeaders,\r\n          request,\r\n        };\r\n\r\n        this.settle(resolve, reject, response);\r\n\r\n        // Clean up request\r\n        (request as any) = null;\r\n      };\r\n\r\n      // Handle browser request cancellation (as opposed to a manual cancellation)\r\n      request.onabort = () => {\r\n        if (!request) {\r\n          return;\r\n        }\r\n\r\n        reject(this.createError('Request aborted', 'ECONNABORTED', request));\r\n\r\n        // Clean up request\r\n        (request as any) = null;\r\n      };\r\n\r\n      // Handle low level network errors\r\n      request.onerror = () => {\r\n        // Real errors are hidden from us by the browser\r\n        // onerror should only fire if it's a network error\r\n        // reject(this.createError('Network Error', null, request));\r\n\r\n        // Clean up request\r\n        (request as any) = null;\r\n      };\r\n\r\n      // Handle timeout\r\n      request.ontimeout = () => {\r\n        reject(this.createError('timeout exceeded', 'ECONNABORTED', request));\r\n\r\n        // Clean up request\r\n        (request as any) = null;\r\n      };\r\n\r\n      // // Handle progress if needed\r\n      // if (typeof config.onDownloadProgress === 'function') {\r\n      //   request.addEventListener('progress', config.onDownloadProgress);\r\n      // }\r\n\r\n      // Not all browsers support upload events\r\n      // if (typeof progressCallback === 'function' && request.upload) {\r\n      //   request.upload.addEventListener('progress', progressCallback);\r\n      // }\r\n\r\n      if (typeof configureFn === 'function') {\r\n        configureFn(request);\r\n      }\r\n\r\n      request.send(formData);\r\n    });\r\n  }\r\n\r\n  public post(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\r\n    return this.request('POST', url, formData, configureFn);\r\n  }\r\n\r\n  public delete(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\r\n    return this.request('DELETE', url, formData, configureFn);\r\n  }\r\n\r\n  public put(url: string, formData: AjaxRequestData, configureFn?: ConfigureFn) {\r\n    return this.request('PUT', url, formData, configureFn);\r\n  }\r\n}\r\n\r\nexport default new AjaxRequest();\r\n","import ajax from './ajax-request';\r\nimport { ConfigureFn, AjaxResponse, AjaxError } from './ajax-request';\r\nimport FileRecord from './file-record';\r\n\r\ntype ProgressFn = (event: ProgressEvent) => void;\r\ntype CreateFormDataFn = (fileRecord: FileRecord) => FormData;\r\n\r\nexport interface TusOptions {\r\n  retryDelays?: number[];\r\n  metadata?: any;\r\n}\r\n\r\nexport type TusOptionsFn = (fileRecord: FileRecord) => TusOptions;\r\n\r\nclass UploadHelper {\r\n  // useAxios(axios){\r\n  //   this.axios = axios;\r\n  // }\r\n\r\n  public addHeaders(xhr: XMLHttpRequest, headers: object): XMLHttpRequest {\r\n    xhr.setRequestHeader('Accept', 'application/json');\r\n    if (headers) {\r\n      for (const key in headers) {\r\n        if (headers.hasOwnProperty(key)) {\r\n          xhr.setRequestHeader(key, (headers as any)[key]);\r\n        }\r\n      }\r\n    }\r\n    return xhr;\r\n  }\r\n\r\n  public doUpload(\r\n    url: string,\r\n    headers: object,\r\n    formData: FormData,\r\n    progressCallback: ProgressFn,\r\n    configureFn?: ConfigureFn\r\n  ): Promise<AjaxResponse> {\r\n    return ajax.post(url, formData, (xhr) => {\r\n      this.addHeaders(xhr, headers);\r\n      xhr.upload.addEventListener('progress', progressCallback, false);\r\n      if (typeof configureFn === 'function') {\r\n        configureFn(xhr);\r\n      }\r\n    });\r\n  }\r\n\r\n  public doDeleteUpload(\r\n    url: string,\r\n    headers: object,\r\n    uploadData: any,\r\n    configureFn?: ConfigureFn\r\n  ): Promise<AjaxResponse> {\r\n    if (typeof uploadData !== 'string') {\r\n      uploadData = JSON.stringify(uploadData);\r\n    }\r\n    return ajax.delete(url, uploadData, (xhr) => {\r\n      xhr.setRequestHeader('Content-Type', 'application/json');\r\n      this.addHeaders(xhr, headers);\r\n      if (typeof configureFn === 'function') {\r\n        configureFn(xhr);\r\n      }\r\n    });\r\n  }\r\n\r\n  public doUpdateUpload(\r\n    url: string,\r\n    headers: object,\r\n    uploadData: any,\r\n    configureFn?: ConfigureFn\r\n  ): Promise<AjaxResponse> {\r\n    if (typeof uploadData !== 'string') {\r\n      uploadData = JSON.stringify(uploadData);\r\n    }\r\n    return ajax.put(url, uploadData, (xhr) => {\r\n      xhr.setRequestHeader('Content-Type', 'application/json');\r\n      this.addHeaders(xhr, headers);\r\n      if (typeof configureFn === 'function') {\r\n        configureFn(xhr);\r\n      }\r\n    });\r\n  }\r\n\r\n  // doUploadAxios(axios, formData, progressCallback){\r\n  //   return axios.post('/upload', formData, {\r\n  //     onUploadProgress: progressCallback,\r\n  //   });\r\n  // }\r\n\r\n  // doDeleteUploadAxios(axios, data, configureFn){\r\n  //   return axios.delete('/upload', data, {\r\n  //   });\r\n  // }\r\n\r\n  public prepareUploadError(fileRecord: FileRecord, err: AjaxError, timeout?: number) {\r\n    let errorText = err.message;\r\n    if (err.response && err.response.data) {\r\n      try {\r\n        const errorMsg = err.response.data.error || JSON.parse(err.response.data).error;\r\n        errorText = errorMsg;\r\n      } catch (e) {\r\n        // ignore\r\n      }\r\n    }\r\n    if (!fileRecord.error) {\r\n      fileRecord.error = {};\r\n    }\r\n    fileRecord.error.upload = errorText;\r\n    fileRecord.upload.data = undefined;\r\n    fileRecord.upload.error = errorText;\r\n    if (timeout) {\r\n      setTimeout(() => {\r\n        if (!fileRecord.error) {\r\n          fileRecord.error = {};\r\n        }\r\n        fileRecord.error.upload = false;\r\n        if (!fileRecord.error.size && !fileRecord.error.type) {\r\n          fileRecord.error = false;\r\n        }\r\n      }, timeout);\r\n    }\r\n  }\r\n\r\n  public upload(\r\n    url: string,\r\n    headers: object,\r\n    fileRecords: FileRecord[],\r\n    createFormData?: CreateFormDataFn,\r\n    progressFn?: (progress: number) => void,\r\n    configureFn?: ConfigureFn\r\n  ) {\r\n    let updateOverallProgress = () => {\r\n      /* no op */\r\n    };\r\n    if (progressFn) {\r\n      updateOverallProgress = () => {\r\n        let prgTotal = 0;\r\n        for (const fileRecord of fileRecords) {\r\n          prgTotal += fileRecord.progress() as number;\r\n        }\r\n        progressFn(prgTotal / fileRecords.length);\r\n      };\r\n    }\r\n    const promises: Array<Promise<AjaxResponse | AjaxError>> = [];\r\n    let failedUploadsCount = 0;\r\n    for (const fileRecord of fileRecords) {\r\n      let formData;\r\n      if (typeof createFormData === 'function') {\r\n        formData = createFormData(fileRecord);\r\n      } else {\r\n        formData = new FormData();\r\n        formData.append('file', fileRecord.file as File);\r\n        formData.append('filename', fileRecord.name());\r\n      }\r\n      // ((fileRecord) => {\r\n      const promise = this.doUpload(\r\n        url,\r\n        headers,\r\n        formData,\r\n        (progressEvent) => {\r\n          const percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\r\n          // do not complete until promise resolved\r\n          fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\r\n          updateOverallProgress();\r\n        },\r\n        (xhr) => {\r\n          fileRecord.xhr = xhr;\r\n          if (typeof configureFn === 'function') {\r\n            configureFn(xhr);\r\n          }\r\n        }\r\n      );\r\n      promises.push(\r\n        new Promise((resolve, reject) => {\r\n          promise.then(\r\n            (response) => {\r\n              delete fileRecord.xhr;\r\n              fileRecord.upload.data = response.data;\r\n              fileRecord.upload.error = false;\r\n              fileRecord.progress(100);\r\n              if (fileRecord.xhrQueue) {\r\n                fileRecord.xhrQueue();\r\n                delete fileRecord.xhrQueue;\r\n              }\r\n              resolve(response);\r\n            } /* */,\r\n            (err) => {\r\n              this.prepareUploadError(fileRecord, err);\r\n              resolve(err);\r\n              failedUploadsCount++;\r\n            } /* */\r\n          );\r\n        })\r\n      );\r\n      // promises.push(promise);\r\n      // })(fileRecord);\r\n    }\r\n    // return Promise.all(promises);\r\n    return new Promise((resolve, reject) => {\r\n      Promise.all(promises).then((responses) => {\r\n        if (failedUploadsCount === promises.length) {\r\n          // all uploads failed\r\n          reject(responses);\r\n          return;\r\n        }\r\n        resolve(responses);\r\n      }, reject);\r\n    });\r\n  }\r\n\r\n  public deleteUpload(\r\n    url: string,\r\n    headers: object,\r\n    fileRecord: FileRecord,\r\n    uploadData?: any,\r\n    configureFn?: ConfigureFn\r\n  ) {\r\n    return new Promise((resolve, reject) => {\r\n      if (fileRecord.xhr) {\r\n        fileRecord.xhr.abort();\r\n      }\r\n      if (uploadData === undefined) {\r\n        uploadData = fileRecord.upload.data;\r\n      }\r\n      if (uploadData) {\r\n        this.doDeleteUpload(url, headers, uploadData, (xhr) => {\r\n          if (typeof configureFn === 'function') {\r\n            configureFn(xhr);\r\n          }\r\n        }).then(\r\n          (result) => {\r\n            resolve(result);\r\n          },\r\n          (err) => {\r\n            this.prepareUploadError(fileRecord, err);\r\n            reject(err);\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public updateUpload(\r\n    url: string,\r\n    headers: object,\r\n    fileRecord: FileRecord,\r\n    uploadData: any,\r\n    configureFn?: ConfigureFn\r\n  ) {\r\n    return new Promise((resolve, reject) => {\r\n      if (fileRecord.xhr) {\r\n        // probably updated while being uploaded.\r\n        fileRecord.xhrQueue = () => {\r\n          this.updateUpload(url, headers, fileRecord, uploadData);\r\n        };\r\n        return resolve();\r\n      }\r\n      if (uploadData === undefined) {\r\n        uploadData = fileRecord.upload.data || {};\r\n        uploadData.old_filename = fileRecord.oldFileName;\r\n        uploadData.filename = fileRecord.name();\r\n      }\r\n      if (uploadData) {\r\n        this.doUpdateUpload(url, headers, uploadData, (xhr) => {\r\n          if (typeof configureFn === 'function') {\r\n            configureFn(xhr);\r\n          }\r\n        }).then(\r\n          (response) => {\r\n            fileRecord.upload.data = response.data;\r\n            fileRecord.upload.error = false;\r\n            resolve(response);\r\n          },\r\n          (err) => {\r\n            this.prepareUploadError(fileRecord, err);\r\n            reject(err);\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  public doTusUpload(\r\n    tus: any,\r\n    url: string,\r\n    fileRecord: FileRecord,\r\n    headers: object,\r\n    progressCallback: ProgressFn,\r\n    tusOptionsFn?: TusOptionsFn,\r\n    uploadWithCredentials?: boolean\r\n  ) {\r\n    const tusOptions: TusOptions = tusOptionsFn ? tusOptionsFn(fileRecord) : {};\r\n    return new Promise((resolve, reject) => {\r\n      if (!tus) {\r\n        return reject(new Error('tus required. Please install tus-js-client'));\r\n      }\r\n      // https://github.com/tus/tus-js-client\r\n      // Create a new tus upload\r\n      const file = fileRecord.file;\r\n      const upload = new tus.Upload(file, {\r\n        endpoint: url,\r\n        headers,\r\n        retryDelays: tusOptions.retryDelays ? tusOptions.retryDelays : [0, 3000, 5000, 10000, 20000],\r\n        metadata: tusOptions.metadata\r\n          ? tusOptions.metadata\r\n          : {\r\n              filename: file.name,\r\n              filetype: file.type,\r\n            },\r\n        onError(error: any) {\r\n          reject(error);\r\n          // console.log(\"Failed because: \" + error)\r\n        },\r\n        onProgress(bytesUploaded: number, bytesTotal: number) {\r\n          const event = { loaded: bytesUploaded, total: bytesTotal } as ProgressEvent;\r\n          progressCallback(event);\r\n        },\r\n        onSuccess() {\r\n          resolve(upload);\r\n        },\r\n        onBeforeRequest: function (req: any) {\r\n          const xhr: XMLHttpRequest = req.getUnderlyingObject();\r\n          xhr.withCredentials = uploadWithCredentials === true;\r\n        },\r\n      });\r\n      fileRecord.tusUpload = upload;\r\n      // Start the upload\r\n      upload.start();\r\n    });\r\n  }\r\n\r\n  public tusUpload(\r\n    tus: any,\r\n    url: string,\r\n    headers: object,\r\n    fileRecords: FileRecord[],\r\n    progressFn?: (progress: number) => void,\r\n    tusOptionsFn?: TusOptionsFn,\r\n    uploadWithCredentials?: boolean\r\n  ) {\r\n    let updateOverallProgress = () => {\r\n      /* no op */\r\n    };\r\n    if (progressFn) {\r\n      updateOverallProgress = () => {\r\n        let prgTotal = 0;\r\n        for (const fileRecord of fileRecords) {\r\n          prgTotal += fileRecord.progress() as number;\r\n        }\r\n        progressFn(prgTotal / fileRecords.length);\r\n      };\r\n    }\r\n    const promises = [];\r\n    for (const fileRecord of fileRecords) {\r\n      const promise = this.doTusUpload(\r\n        tus,\r\n        url,\r\n        fileRecord,\r\n        headers,\r\n        (progressEvent: ProgressEvent) => {\r\n          const percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\r\n          // do not complete until promise resolved\r\n          fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\r\n          updateOverallProgress();\r\n        },\r\n        tusOptionsFn,\r\n        uploadWithCredentials\r\n      );\r\n      promise.then(\r\n        (response) => {\r\n          // delete fileRecord.tusUpload;\r\n          fileRecord.progress(100);\r\n        },\r\n        (err) => {\r\n          this.prepareUploadError(fileRecord, err);\r\n        }\r\n      );\r\n      promises.push(promise);\r\n    }\r\n    return Promise.all(promises);\r\n  }\r\n\r\n  public tusDeleteUpload(tus: any, url: string, headers: object, fileRecord: FileRecord) {\r\n    return new Promise((resolve, reject) => {\r\n      if (!tus) {\r\n        return reject('tus required');\r\n      }\r\n      if (!fileRecord.tusUpload) {\r\n        return resolve();\r\n      }\r\n      // const shouldTerminate = true;\r\n      const abort = (shouldTerminate: boolean) => {\r\n        return new Promise((res, rej) => {\r\n          fileRecord.tusUpload.abort(shouldTerminate, (err: any) => {\r\n            if (err) {\r\n              this.prepareUploadError(fileRecord, err);\r\n              rej(err);\r\n              return;\r\n            }\r\n            res();\r\n          });\r\n        });\r\n      };\r\n      abort(false).then(() => {\r\n        setTimeout(() => {\r\n          abort(true).then(resolve, reject);\r\n        }, 1000);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new UploadHelper();\r\n","export default {\r\n  tus: null as any,\r\n};\r\n","import utils from '../lib/utils';\r\nimport VueFileIcon from './vue-file-icon.vue';\r\nimport VueFilePreview from './vue-file-preview.vue';\r\nimport VueFileList from './vue-file-list.vue';\r\nimport VueFileListItem from './vue-file-list-item.vue';\r\nimport FileRecord from '../lib/file-record';\r\nimport { RawFileRecord } from '../lib/file-record';\r\nimport uploader from '../lib/upload-helper';\r\nimport Vue from 'vue';\r\nimport plugins from '../lib/plugins';\r\nimport { ConfigureFn } from '../lib/ajax-request';\r\n\r\n// tslint:disable-next-line\r\nvar dragCounter = 0;\r\n\r\nexport default Vue.extend({\r\n  props: [\r\n    'accept',\r\n    'auto',\r\n    'averageColor',\r\n    'capture',\r\n    'compact',\r\n    'deletable',\r\n    'downloadable',\r\n    'disabled',\r\n    'editable',\r\n    'errorText',\r\n    'helpText',\r\n    'linkable',\r\n    'maxFiles',\r\n    'maxSize',\r\n    'meta',\r\n    'multiple',\r\n    'progress',\r\n    'read',\r\n    'readonly',\r\n    'resumable',\r\n    'sortable',\r\n    'theme',\r\n    'thumbnailSize',\r\n    'uploadConfig',\r\n    'uploadHeaders',\r\n    'uploadUrl',\r\n    'uploadWithCredentials',\r\n    'value',\r\n  ],\r\n  components: {\r\n    VueFileIcon,\r\n    VueFilePreview,\r\n    VueFileList,\r\n    VueFileListItem,\r\n  },\r\n  directives: {\r\n    // https://github.com/Jexordexan/vue-slicksort/blob/master/src/HandleDirective.js\r\n    vfaSortableHandle: {\r\n      bind(el: HTMLElement) {\r\n        (el as any).sortableHandle = true;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      fileRecords: [] as FileRecord[],\r\n      rawFileRecords: [] as RawFileRecord[],\r\n      isDragging: false,\r\n      isSorting: false,\r\n      isSortingActive: false,\r\n      transitionDuration: 300,\r\n      overallProgress: 0,\r\n      uniqueId: '',\r\n      sortTimeout: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    withCredentials(): boolean | undefined {\r\n      return this.uploadWithCredentials;\r\n    },\r\n    canAddMore(): boolean {\r\n      if (!this.hasMultiple) {\r\n        return this.fileRecords.length === 0;\r\n      }\r\n      if (!this.maxFiles) {\r\n        return true;\r\n      }\r\n      return this.fileRecords.length < this.maxFiles;\r\n    },\r\n    helpTextComputed(): string {\r\n      if (this.helpText) {\r\n        return this.helpText;\r\n      }\r\n      return 'Choose ' + (this.hasMultiple ? 'files' : 'file') + ' or drag & drop here';\r\n    },\r\n    isDownloadable(): boolean {\r\n      if (typeof this.downloadable === 'string') {\r\n        return this.downloadable !== 'false';\r\n      }\r\n      return !!this.downloadable;\r\n    },\r\n    isDeletable(): boolean {\r\n      if (typeof this.deletable === 'string') {\r\n        return this.deletable !== 'false';\r\n      }\r\n      return !!this.deletable;\r\n    },\r\n    isSortable(): boolean {\r\n      return !!this.sortable;\r\n    },\r\n    hasMultiple(): boolean {\r\n      if (typeof this.multiple === 'string') {\r\n        return this.multiple !== 'false';\r\n      }\r\n      if (this.multiple === undefined) {\r\n        return Array.isArray(this.value);\r\n      }\r\n      return !!this.multiple;\r\n    },\r\n    shouldRead(): boolean {\r\n      if (typeof this.read === 'string') {\r\n        return this.read === 'true';\r\n      }\r\n      return !!this.read;\r\n    },\r\n  },\r\n  methods: {\r\n    createThumbnail(fileRecord: FileRecord, video: HTMLVideoElement): Promise<void> {\r\n      return new Promise((resolve, reject) => {\r\n        const canvas = document.createElement('canvas');\r\n        utils\r\n          .createVideoThumbnail(\r\n            video,\r\n            canvas,\r\n            fileRecord.thumbnailSize,\r\n            this.averageColor !== false,\r\n            this.withCredentials\r\n          )\r\n          .then((thumbnail) => {\r\n            fileRecord.imageColor = thumbnail.color;\r\n            fileRecord.videoThumbnail = thumbnail.url;\r\n            fileRecord.dimensions.width = thumbnail.width;\r\n            fileRecord.dimensions.height = thumbnail.height;\r\n            resolve();\r\n          }, reject);\r\n      });\r\n    },\r\n    initVideo(fileRecord: FileRecord): void {\r\n      if (!fileRecord.isPlayableVideo()) {\r\n        return;\r\n      }\r\n      const createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\r\n      const revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\r\n      const video = document.createElement('video');\r\n      video.src = createObjectURL(fileRecord.file);\r\n      this.createThumbnail(fileRecord, video).then(() => {\r\n        revokeObjectURL(video.src);\r\n      });\r\n      video.load();\r\n    },\r\n    getFileRecordOrRawInstance(fileRecordOrRaw: FileRecord | RawFileRecord, raw: boolean): FileRecord | RawFileRecord {\r\n      let i;\r\n      if (fileRecordOrRaw instanceof FileRecord) {\r\n        i = this.fileRecords.indexOf(fileRecordOrRaw);\r\n      } else {\r\n        i = this.rawFileRecords.indexOf(fileRecordOrRaw);\r\n      }\r\n      if (i === -1) {\r\n        return fileRecordOrRaw;\r\n      }\r\n      return raw ? this.rawFileRecords[i] : this.fileRecords[i];\r\n    },\r\n    getFileRecordRawInstance(fileRecordOrRaw: FileRecord | RawFileRecord): RawFileRecord {\r\n      return this.getFileRecordOrRawInstance(fileRecordOrRaw, true) as RawFileRecord;\r\n    },\r\n    getFileRecordInstance(fileRecordOrRaw: FileRecord | RawFileRecord): FileRecord {\r\n      return this.getFileRecordOrRawInstance(fileRecordOrRaw, false) as FileRecord;\r\n    },\r\n    prepareConfigureFn(configureXhr?: ConfigureFn) {\r\n      const withCredentials = this.uploadWithCredentials;\r\n      if (withCredentials !== true && withCredentials !== false) {\r\n        return configureXhr;\r\n      }\r\n      return (request: XMLHttpRequest) => {\r\n        request.withCredentials = withCredentials;\r\n        if (typeof configureXhr === 'function') {\r\n          configureXhr(request);\r\n        }\r\n      };\r\n    },\r\n    upload(\r\n      url: string,\r\n      headers: object,\r\n      fileRecordsOrRaw: FileRecord[] | RawFileRecord[],\r\n      createFormData?: (fileRecord: FileRecord) => FormData,\r\n      configureXhr?: ConfigureFn\r\n    ): Promise<any> {\r\n      const validFileRecords: FileRecord[] = [];\r\n      const validFilesRawData: RawFileRecord[] = [];\r\n      for (const fileRecordOrRaw of fileRecordsOrRaw) {\r\n        const fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\r\n        if (!fileRecord.error) {\r\n          validFileRecords.push(fileRecord);\r\n          validFilesRawData.push(this.getFileRecordRawInstance(fileRecord));\r\n        }\r\n      }\r\n      if (this.resumable) {\r\n        return uploader.tusUpload(\r\n          plugins.tus,\r\n          url,\r\n          headers,\r\n          validFileRecords,\r\n          (overallProgress) => {\r\n            this.overallProgress = overallProgress;\r\n          },\r\n          this.resumable === true ? undefined : this.resumable,\r\n          this.uploadWithCredentials\r\n        );\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        uploader\r\n          .upload(\r\n            url,\r\n            headers,\r\n            validFileRecords,\r\n            createFormData,\r\n            (overallProgress) => {\r\n              this.overallProgress = overallProgress;\r\n            },\r\n            this.prepareConfigureFn(configureXhr)\r\n          )\r\n          .then(\r\n            (res: any) => {\r\n              for (let i = 0; i < res.length; i++) {\r\n                res[i].fileRecord = validFilesRawData[i];\r\n              }\r\n              this.$emit('upload', res);\r\n              resolve(res);\r\n            },\r\n            (err: any) => {\r\n              for (let i = 0; i < err.length; i++) {\r\n                err[i].fileRecord = validFilesRawData[i];\r\n              }\r\n              this.$emit('upload:error', err);\r\n              reject(err);\r\n            }\r\n          );\r\n      });\r\n    },\r\n    deleteUpload(\r\n      url: string,\r\n      headers: object,\r\n      fileRecordOrRaw: FileRecord | RawFileRecord,\r\n      uploadData?: any,\r\n      configureXhr?: ConfigureFn\r\n    ): Promise<any> {\r\n      if (this.fileRecords.length < 1) {\r\n        this.overallProgress = 0;\r\n      }\r\n      const fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\r\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\r\n      if (this.resumable) {\r\n        return uploader.tusDeleteUpload(plugins.tus, url, headers, fileRecord);\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        uploader\r\n          .deleteUpload(url, headers, fileRecord as FileRecord, uploadData, this.prepareConfigureFn(configureXhr))\r\n          .then(\r\n            (res: any) => {\r\n              res.fileRecord = rawFileRecord;\r\n              this.$emit('upload:delete', res);\r\n              resolve(res);\r\n            },\r\n            (err: any) => {\r\n              err.fileRecord = rawFileRecord;\r\n              this.$emit('upload:delete:error', err);\r\n              reject(err);\r\n            }\r\n          );\r\n      });\r\n    },\r\n    updateUpload(\r\n      url: string,\r\n      headers: object,\r\n      fileRecord: FileRecord | RawFileRecord,\r\n      uploadData?: any,\r\n      configureXhr?: ConfigureFn\r\n    ): Promise<any> {\r\n      fileRecord = this.getFileRecordInstance(fileRecord);\r\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecord);\r\n      return new Promise((resolve, reject) => {\r\n        uploader\r\n          .updateUpload(url, headers, fileRecord as FileRecord, uploadData, this.prepareConfigureFn(configureXhr))\r\n          .then(\r\n            (res: any) => {\r\n              res.fileRecords = rawFileRecord;\r\n              this.$emit('upload:update', res);\r\n              resolve(res);\r\n            },\r\n            (err) => {\r\n              err.fileRecords = rawFileRecord;\r\n              this.$emit('upload:update:error', err);\r\n              reject(err);\r\n            }\r\n          );\r\n      });\r\n    },\r\n    autoUpload(fileRecords: FileRecord[] | RawFileRecord[]): Promise<any> {\r\n      if (!this.uploadUrl || this.auto === false) {\r\n        return Promise.resolve(false);\r\n      }\r\n      return this.upload(this.uploadUrl, this.uploadHeaders, fileRecords, this.uploadConfig);\r\n    },\r\n    autoDeleteUpload(fileRecord: FileRecord | RawFileRecord): Promise<any> {\r\n      if (!this.uploadUrl || this.auto === false) {\r\n        return Promise.resolve(false);\r\n      }\r\n      return this.deleteUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\r\n    },\r\n    autoUpdateUpload(fileRecord: FileRecord): Promise<any> {\r\n      if (!this.uploadUrl || this.auto === false) {\r\n        return Promise.resolve(false);\r\n      }\r\n      return this.updateUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\r\n    },\r\n    equalFiles(file1: File, file2: File): boolean {\r\n      return (\r\n        true &&\r\n        file1.name === file2.name &&\r\n        file1.size === file2.size &&\r\n        file1.type === file2.type &&\r\n        // file1.lastModifiedDate.getTime() === file2.lastModifiedDate.getTime() &&\r\n        file1.lastModified === file2.lastModified\r\n      );\r\n    },\r\n    isFileAddedAlready(file: File): boolean {\r\n      for (const fileRecord of this.fileRecords) {\r\n        if (this.equalFiles(file, fileRecord.file as File)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    handleFiles(files: File[] | FileList): void {\r\n      if (this.disabled === true || this.readonly === true) {\r\n        return;\r\n      }\r\n      if (this.hasMultiple && !this.canAddMore) {\r\n        return;\r\n      }\r\n      const fileRecords: FileRecord[] = [];\r\n      const filesFiltered: File[] = [];\r\n      // tslint:disable-next-line\r\n      for (let i = 0; i < files.length; i++) {\r\n        if (this.hasMultiple && this.isFileAddedAlready(files[i])) {\r\n          continue;\r\n        }\r\n        filesFiltered.push(files[i]);\r\n      }\r\n      files = filesFiltered;\r\n      if (this.hasMultiple && this.maxFiles && files.length > this.maxFiles - this.fileRecords.length) {\r\n        files = files.slice(0, this.maxFiles - this.fileRecords.length);\r\n      }\r\n      for (const file of files) {\r\n        fileRecords.push(\r\n          new FileRecord(\r\n            {\r\n              file,\r\n            } as RawFileRecord,\r\n            {\r\n              read: this.shouldRead,\r\n              maxSize: this.maxSize,\r\n              accept: this.accept,\r\n              thumbnailSize: this.thumbnailSize,\r\n              averageColor: this.averageColor,\r\n              withCredentials: this.withCredentials,\r\n            }\r\n          )\r\n        );\r\n      }\r\n\r\n      for (const fileRecord of fileRecords) {\r\n        if (fileRecord.file.size <= 20 * 1024 * 1024) {\r\n          // <= 20MB\r\n          this.initVideo(fileRecord);\r\n        }\r\n      }\r\n      if (this.hasMultiple) {\r\n        // splice: for list transitions to work properly\r\n        this.fileRecords.splice(this.fileRecords.length, 0, ...fileRecords);\r\n      } else {\r\n        this.fileRecords = fileRecords;\r\n      }\r\n\r\n      FileRecord.readFiles(fileRecords).then((fileRecordsNew: FileRecord[]) => {\r\n        const allFileRecordsRaw = FileRecord.toRawArray(this.fileRecords);\r\n        this.rawFileRecords = allFileRecordsRaw;\r\n        this.$emit('input', Array.isArray(this.value) ? allFileRecordsRaw : allFileRecordsRaw[0]);\r\n        this.$emit('select', FileRecord.toRawArray(fileRecordsNew));\r\n      });\r\n      this.autoUpload(fileRecords);\r\n    },\r\n    filesChanged(event: InputEvent): void {\r\n      let files: File[] | FileList = (event.target as HTMLInputElement).files as FileList;\r\n      this.$emit('change', event);\r\n      if (!files[0]) {\r\n        return;\r\n      }\r\n      if (!this.hasMultiple) {\r\n        files = [files[0]];\r\n      }\r\n      this.handleFiles(files);\r\n      if (this.$refs.fileInput) {\r\n        (this.$refs.fileInput as any).value = null; // do not use ''\r\n        // because chrome won't fire change event for same file\r\n      }\r\n    },\r\n    drop(event: DragEvent): void {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n      dragCounter = 0;\r\n      this.isDragging = false;\r\n      if (this.disabled === true || this.readonly === true) {\r\n        return;\r\n      }\r\n      if (!event.dataTransfer) {\r\n        return;\r\n      }\r\n      utils.getFilesFromDroppedItems(event.dataTransfer).then((files) => {\r\n        this.$emit('drop', event);\r\n        if (!files || !files[0]) {\r\n          return;\r\n        }\r\n        if (!this.hasMultiple) {\r\n          files = [files[0]];\r\n        }\r\n        this.handleFiles(files);\r\n      });\r\n    },\r\n    dragEnter(event: DragEvent): void {\r\n      if (!event.dataTransfer) {\r\n        return;\r\n      }\r\n      this.isDragging = true;\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n      dragCounter++;\r\n      event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\r\n    },\r\n    dragOver(event: DragEvent): void {\r\n      if (!event.dataTransfer) {\r\n        return;\r\n      }\r\n      this.isDragging = true;\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n      event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\r\n    },\r\n    dragLeave(event: DragEvent): void {\r\n      if (!event.dataTransfer) {\r\n        return;\r\n      }\r\n      dragCounter--;\r\n      if (dragCounter === 0) {\r\n        this.isDragging = false;\r\n      }\r\n    },\r\n    // viewFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\r\n\r\n    //     console.log(fileRecordOrRaw.file)\r\n  \r\n    //     var originalFile = fileRecordOrRaw.file;\r\n  \r\n    //     var newFile  = new Blob([originalFile], {type: originalFile.type});\r\n    //     this.$emit('get-blob', newFile);\r\n    //   // const rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\r\n    //   // this.$emit('beforeview', rawFileRecord);\r\n    //   // if (!this.uploadUrl || this.auto === false) {\r\n    //   //   return;\r\n    //   // }\r\n    //   // this.deleteFileRecord(fileRecordOrRaw);\r\n    // },\r\n    viewFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\r\n      var originalFile = fileRecordOrRaw.file;\r\n  \r\n      var newFile  = new Blob([originalFile], {type: originalFile.type});\r\n      this.$emit('get-blobs', newFile);\r\n      alert('text')\r\n    },\r\n    removeFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\r\n      const rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\r\n      this.$emit('beforedelete', rawFileRecord);\r\n      if (!this.uploadUrl || this.auto === false) {\r\n        return;\r\n      }\r\n      this.deleteFileRecord(fileRecordOrRaw);\r\n    },\r\n    deleteFileRecord(fileRecordOrRaw: FileRecord | RawFileRecord): void {\r\n      let i: number;\r\n      if (fileRecordOrRaw instanceof FileRecord) {\r\n        i = this.fileRecords.indexOf(fileRecordOrRaw);\r\n      } else {\r\n        i = this.rawFileRecords.indexOf(fileRecordOrRaw);\r\n      }\r\n      let fileRecord = this.fileRecords[i];\r\n      let rawFileRecord = this.rawFileRecords[i];\r\n      this.$emit('input', this.rawFileRecords);\r\n      this.$emit('delete', rawFileRecord);\r\n      fileRecord = this.fileRecords.splice(i, 1)[0];\r\n      rawFileRecord = this.rawFileRecords.splice(i, 1)[0];\r\n      this.autoDeleteUpload(fileRecord).then(\r\n        (res) => {\r\n          /* no op */\r\n        },\r\n        (err) => {\r\n          this.fileRecords.splice(i, 0, fileRecord);\r\n          this.rawFileRecords.splice(i, 0, rawFileRecord);\r\n        }\r\n      );\r\n    },\r\n    // readBLOB(fileRecord: FileRecord) {\r\n    //   console.log(fileRecord.file)\r\n\r\n    //   var originalFile = fileRecord.file;\r\n\r\n    //   var newFile  = new Blob([originalFile], {type: originalFile.type});\r\n\r\n    //   console.log(newFile);\r\n    //   this.$emit('get-blob', newFile);\r\n    // },\r\n    readBLOB(fileRecord: FileRecord): void {\r\n      console.log(fileRecord)\r\n      this.$emit('get-blob-data', fileRecord);\r\n      // this.autoUpdateUpload(fileRecord).then(\r\n      //   (res) => {\r\n      //     /* no op */\r\n      //   },\r\n      //   (err) => {\r\n      //     fileRecord.customName = fileRecord.oldCustomName;\r\n      //   }\r\n      // );\r\n    },\r\n    filenameChanged(fileRecord: FileRecord): void {\r\n      this.$emit('rename', FileRecord.toRawArray([fileRecord])[0]);\r\n      this.autoUpdateUpload(fileRecord).then(\r\n        (res) => {\r\n          /* no op */\r\n        },\r\n        (err) => {\r\n          fileRecord.customName = fileRecord.oldCustomName;\r\n        }\r\n      );\r\n    },\r\n    checkValue(): void {\r\n      let rawFileRecords: RawFileRecord[] = this.value || [];\r\n      rawFileRecords = Array.isArray(rawFileRecords) ? rawFileRecords : [rawFileRecords];\r\n\r\n      const fdPromises: Array<Promise<FileRecord>> = [];\r\n      const rawFileRecordsNew: RawFileRecord[] = [];\r\n\r\n      for (let i = 0; i < rawFileRecords.length; i++) {\r\n        const existingIndex = this.rawFileRecords.indexOf(rawFileRecords[i]);\r\n        if (existingIndex !== -1) {\r\n          fdPromises.push(Promise.resolve(this.fileRecords[existingIndex]));\r\n          rawFileRecordsNew[i] = this.rawFileRecords[existingIndex];\r\n        } else {\r\n          fdPromises.push(\r\n            FileRecord.fromRaw(rawFileRecords[i], {\r\n              read: this.shouldRead,\r\n              maxSize: this.maxSize,\r\n              accept: this.accept,\r\n              thumbnailSize: this.thumbnailSize,\r\n              averageColor: this.averageColor,\r\n              withCredentials: this.withCredentials,\r\n            })\r\n          );\r\n          rawFileRecordsNew.push(rawFileRecords[i]);\r\n        }\r\n      }\r\n\r\n      this.rawFileRecords = rawFileRecordsNew;\r\n      Promise.all(fdPromises).then((fileRecords) => {\r\n        this.fileRecords = fileRecords;\r\n      });\r\n    },\r\n    sortStart(): void {\r\n      if (this.sortTimeout) {\r\n        clearTimeout(this.sortTimeout);\r\n      }\r\n      this.isSorting = true;\r\n      this.isSortingActive = true;\r\n    },\r\n    sortEnd(sortData: { event: Event; newIndex: number; oldIndex: number; collection: any }): void {\r\n      this.isSortingActive = false;\r\n      if (this.sortTimeout) {\r\n        clearTimeout(this.sortTimeout);\r\n      }\r\n      this.sortTimeout = setTimeout(() => {\r\n        this.isSorting = false;\r\n      }, this.transitionDuration + 100);\r\n      if (sortData.oldIndex !== sortData.newIndex) {\r\n        this.rawFileRecords = utils.arrayMove(this.rawFileRecords, sortData.oldIndex, sortData.newIndex);\r\n        this.$nextTick(() => {\r\n          this.$emit('input', this.rawFileRecords);\r\n          this.$emit('sort', {\r\n            oldIndex: sortData.oldIndex,\r\n            newIndex: sortData.newIndex,\r\n          });\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.uniqueId = new Date().getTime().toString(36) + Math.random().toString(36).slice(2);\r\n    this.checkValue();\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.checkValue();\r\n    },\r\n  },\r\n});\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport mixin from './vue-file-agent-mixin';\r\n\r\nexport default Vue.extend({\r\n  mixins: [mixin],\r\n});\r\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--12-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-agent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./vue-file-agent.vue?vue&type=template&id=6fb6e016&\"\nimport script from \"./vue-file-agent.vue?vue&type=script&lang=ts&\"\nexport * from \"./vue-file-agent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./vue-file-agent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueFileIcon from './components/vue-file-icon.vue';\r\nimport VueFilePreview from './components/vue-file-preview.vue';\r\nimport VueFileList from './components/vue-file-list.vue';\r\nimport VueFileListItem from './components/vue-file-list-item.vue';\r\nimport VueFileAgent from './components/vue-file-agent.vue';\r\nimport VueFileAgentMixin from './components/vue-file-agent-mixin';\r\nimport VueFilePreviewMixin from './components/vue-file-preview-mixin';\r\nimport utils from './lib/utils';\r\nimport plugins from './lib/plugins';\r\nimport FileRecord from './lib/file-record';\r\n\r\nimport _Vue from 'vue';\r\n\r\nexport class VueFileAgentPlugin implements Vue.PluginObject<any> {\r\n  public VueFileIcon = VueFileIcon;\r\n  public VueFilePreview = VueFilePreview;\r\n  public VueFileAgent = VueFileAgent;\r\n  public component = VueFileAgent;\r\n  public mixin = VueFileAgentMixin;\r\n  public plugins = plugins;\r\n\r\n  public VueFileAgentMixin = VueFileAgentMixin;\r\n  public VueFilePreviewMixin = VueFilePreviewMixin;\r\n\r\n  public install: Vue.PluginFunction<any> = (Vue: typeof _Vue, options: any) => {\r\n    Vue.component('VueFileIcon', VueFileIcon);\r\n    Vue.component('VueFilePreview', VueFilePreview);\r\n    Vue.component('VueFileList', VueFileList);\r\n    Vue.component('VueFileListItem', VueFileListItem);\r\n    Vue.component('VueFileAgent', VueFileAgent);\r\n    Vue.prototype.$vueFileAgent = {\r\n      mixin: VueFileAgentMixin,\r\n    };\r\n  }\r\n}\r\n\r\nconst vfaPlugin = new VueFileAgentPlugin();\r\n\r\n// auto install\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  vfaPlugin.install(window.Vue, {});\r\n  (window as any).VueFileAgent = vfaPlugin;\r\n}\r\n\r\nexport const mixin = VueFileAgentMixin;\r\n\r\nexport { VueFileAgentMixin, VueFilePreviewMixin };\r\n\r\nexport { utils, FileRecord, plugins };\r\n\r\nexport const FileData = FileRecord; // for backward compatibility\r\n\r\nexport default vfaPlugin;\r\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"sourceRoot":""}